{
    "items": [
        {
            "tags": [
                "python",
                "mysql",
                "database",
                "serial-port",
                "mysql-workbench"
            ],
            "owner": {
                "account_id": 27233744,
                "reputation": 1,
                "user_id": 20760995,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6zyuUd4udxPBse-r0jRP5MvhN0LjgM3k-SN7wgxQ=k-s256",
                "display_name": "2Thingz",
                "link": "https://stackoverflow.com/users/20760995/2thingz"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 7,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1686127504,
            "creation_date": 1686127504,
            "question_id": 76421457,
            "share_link": "https://stackoverflow.com/q/76421457/14467927",
            "link": "https://stackoverflow.com/questions/76421457/data-only-being-inserted-into-first-column-in-database-and-not-whole-table",
            "title": "Data only being inserted into first column in database and not whole table",
            "body": "<p>I am trying to link a database to data that is being outputted by a serial port but while the data is being outputted it appears that the data is only going to the first column within the table and it not being spread out I have been trying to fix this for the past 3 or 4 days but to no avail if anyone would take a look and maybe give some tips it would be much appreciated.</p>\n<p>Reading data to the python scrips through the serial port:</p>\n<pre><code>    def read_data(self):\n    if self.serial is not None and self.serial.is_open:\n        while self.serial.in_waiting:\n            raw_data = self.serial.readline()\n            data_str = raw_data.decode(errors='ignore').strip()\n            self.desc.append(data_str)\n\n            lines = data_str.split(',')\n            print(&quot;Data to be uploaded:&quot;, lines)\n            print(&quot;Raw Data:&quot;, raw_data)\n            upload_data_to_database(lines,\n                                    column_names=['manfName',\n                                                  'modelNum',\n                                                  'serialNum',\n                                                  'revNum',\n                                                  'device_type',\n                                                  'whats_taken',\n                                                  'body',\n                                                  'temperature',\n                                                  'unit',\n                                                  'additionalInt1',\n                                                  'additionalInt2'])\n</code></pre>\n<p>Using the serial readout to break the code up and store it within the database:</p>\n<pre><code>def upload_data_to_database(data, column_names):\ntry:\n    # Establish a connection to the database\n    connection = mysql.connector.connect(\n        host=&quot;localhost&quot;,\n        user=&quot;root&quot;,\n        password=&quot;Codyb12345&quot;,\n        database=&quot;dongle&quot;\n    )\n\n    # Create a cursor object to execute SQL statements\n    cursor = connection.cursor()\n\n    # Process and insert each line of data\n    for line in data:\n        # Skip empty lines\n        if line:\n            # Extract the values from the line\n            values = line.split(&quot;,&quot;)\n\n            # If the number of values doesn't match the number of columns, insert None for missing values\n            if len(values) &lt; len(column_names):\n                values += [None] * (len(column_names) - len(values))\n\n            # Create a dictionary for mapping column names to their corresponding values\n            data_dict = {\n                &quot;manfName&quot;: values[0],\n                &quot;modelNum&quot;: values[1],\n                &quot;serialNum&quot;: values[2],\n                &quot;revNum&quot;: values[3],\n                &quot;device_type&quot;: values[4],\n                &quot;whats_taken&quot;: values[5],\n                &quot;body&quot;: values[6],\n                &quot;temperature&quot;: values[7],\n                &quot;unit&quot;: values[8],\n                &quot;additionalInt1&quot;: values[9],\n                &quot;additionalInt2&quot;: values[10]\n            }\n\n            # Construct the SQL statement to insert a single row of data\n            insert_query = f&quot;&quot;&quot;\n                INSERT INTO data (\n                    manfName,\n                    modelNum,\n                    serialNum,\n                    revNum,\n                    device_type,\n                    whats_taken,\n                    body,\n                    temperature,\n                    unit,\n                    additionalInt1,\n                    additionalInt2\n                )\n                VALUES (\n                    %(manfName)s,\n                    %(modelNum)s,\n                    %(serialNum)s,\n                    %(revNum)s,\n                    %(device_type)s,\n                    %(whats_taken)s,\n                    %(body)s,\n                    %(temperature)s,\n                    %(unit)s,\n                    %(additionalInt1)s,\n                    %(additionalInt2)s\n                )\n            &quot;&quot;&quot;\n\n            # Execute the SQL statement with the data dictionary\n            cursor.execute(insert_query, data_dict)\n\n    # Commit the changes to the database\n    connection.commit()\n\n    print(&quot;Data inserted successfully&quot;)\n\nexcept mysql.connector.Error as error:\n    print(&quot;Error inserting data:&quot;, error)\n\nfinally:\n    # Close the cursor and connection\n    if cursor:\n        cursor.close()\n    if connection:\n        connection.close()\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "sqlalchemy"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 17266350,
                        "reputation": 5065,
                        "user_id": 12502959,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/f8nap.png?s=256&g=1",
                        "display_name": "python_user",
                        "link": "https://stackoverflow.com/users/12502959/python-user"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686054546,
                    "post_id": 76414377,
                    "comment_id": 134743968,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76414377/unable-to-execute-system-command-from-sqlalchemy-as-in-mysql#comment134743968_76414377",
                    "body": "can you explain what you are trying to do here?"
                },
                {
                    "owner": {
                        "account_id": 5202068,
                        "reputation": 393,
                        "user_id": 4161120,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/0bdce4d0ce0eb4402a6d9ac8c894fa71?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "SatishV",
                        "link": "https://stackoverflow.com/users/4161120/satishv"
                    },
                    "reply_to_user": {
                        "account_id": 17266350,
                        "reputation": 5065,
                        "user_id": 12502959,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/f8nap.png?s=256&g=1",
                        "display_name": "python_user",
                        "link": "https://stackoverflow.com/users/12502959/python-user"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686057577,
                    "post_id": 76414377,
                    "comment_id": 134744670,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76414377/unable-to-execute-system-command-from-sqlalchemy-as-in-mysql#comment134744670_76414377",
                    "body": "I have some ordered mysql queries like query1;system cmd1;query2;query3 It works fine in mysql terminal and not in sqlalchemy as it is escaping \\ with another \\."
                },
                {
                    "owner": {
                        "account_id": 17266350,
                        "reputation": 5065,
                        "user_id": 12502959,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/f8nap.png?s=256&g=1",
                        "display_name": "python_user",
                        "link": "https://stackoverflow.com/users/12502959/python-user"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686060673,
                    "post_id": 76414377,
                    "comment_id": 134745414,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76414377/unable-to-execute-system-command-from-sqlalchemy-as-in-mysql#comment134745414_76414377",
                    "body": "I guess you can not run sh files using db.execute, you are trying to run something that is not sql and so it fails"
                },
                {
                    "owner": {
                        "account_id": 10929,
                        "reputation": 534468,
                        "user_id": 20860,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=256&g=1",
                        "display_name": "Bill Karwin",
                        "link": "https://stackoverflow.com/users/20860/bill-karwin"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686071070,
                    "post_id": 76414377,
                    "comment_id": 134747810,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76414377/unable-to-execute-system-command-from-sqlalchemy-as-in-mysql#comment134747810_76414377",
                    "body": "The MySQL client app has some <a href=\"https://dev.mysql.com/doc/refman/8.0/en/mysql-commands.html\" rel=\"nofollow noreferrer\">builtin commands</a>. These are preprocessed by the MySQL client app itself, so none of these commands can be executed when you use one of the MySQL programmatic APIs."
                }
            ],
            "owner": {
                "account_id": 5202068,
                "reputation": 393,
                "user_id": 4161120,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/0bdce4d0ce0eb4402a6d9ac8c894fa71?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "SatishV",
                "link": "https://stackoverflow.com/users/4161120/satishv"
            },
            "comment_count": 4,
            "is_answered": false,
            "view_count": 27,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1686053189,
            "creation_date": 1686052498,
            "last_edit_date": 1686053189,
            "question_id": 76414377,
            "share_link": "https://stackoverflow.com/q/76414377/14467927",
            "link": "https://stackoverflow.com/questions/76414377/unable-to-execute-system-command-from-sqlalchemy-as-in-mysql",
            "title": "Unable to execute system command from sqlalchemy as in mysql",
            "body": "<p>Execution of system command using sqlalchemy.engine.base.Connection is resulting in error.</p>\n<pre><code>import sqlalchemy\nfrom urllib.parse import quote_plus as urlquote\nuser = 'root'\nhost = 'localhost'\nport = 3306\npassword = 'mypassword'\nengine_string = 'mysql://{0}:%s@{1}:{2}/{3}'.format(user, host, port, db_name) % urlquote(password)\nengine = sqlalchemy.create_engine(engine_string)\ndb = engine.connect()\n\ndb.execute(r&quot;\\! sh /home/satish/test.sh&quot;)\n</code></pre>\n<p>sqlalchemy.exc.ProgrammingError: (MySQLdb.ProgrammingError) (1064, &quot;You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '\\! sh /home/satish/test.sh' at line 1&quot;)\n[SQL: ! sh /home/satish/test.sh]</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "serial-port",
                "mysql-python",
                "pyserial"
            ],
            "owner": {
                "account_id": 27233744,
                "reputation": 1,
                "user_id": 20760995,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AEdFTp6zyuUd4udxPBse-r0jRP5MvhN0LjgM3k-SN7wgxQ=k-s256",
                "display_name": "2Thingz",
                "link": "https://stackoverflow.com/users/20760995/2thingz"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 22,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1686047043,
            "creation_date": 1686046905,
            "last_edit_date": 1686047043,
            "question_id": 76413647,
            "share_link": "https://stackoverflow.com/q/76413647/14467927",
            "link": "https://stackoverflow.com/questions/76413647/reading-from-a-serial-port-database-only-getting-data-to-first-column",
            "title": "Reading from a serial port - database only getting data to first column",
            "body": "<p>I reading data from a serial port and trying to print the data onto the database, whenever I try and print the data to my DB it is only printing the data to the first column instead of being spread out.</p>\n<p>READ_DATA</p>\n<pre><code>    def read_data(self):\n        if self.serial is not None and self.serial.is_open:\n            while self.serial.in_waiting:\n                raw_data = self.serial.readline()\n                data_str = raw_data.decode(errors='ignore').strip()\n                self.desc.append(data_str)\n\n                lines = data_str.split(',')\n                print(&quot;Data to be uploaded:&quot;, lines)\n                print(&quot;Raw Data:&quot;, raw_data)\n                self.upload_callback(lines)\n\n</code></pre>\n<p>UPLOAD_DATA_TO_DATABASE</p>\n<pre><code>def upload_data_to_database(data):\n    try:\n        # Establish a connection to the database\n        connection = mysql.connector.connect(\n            host=&quot;localhost&quot;,\n            user=&quot;root&quot;,\n            password=&quot;Codyb12345&quot;,\n            database=&quot;dongle&quot;\n        )\n\n        # Create a cursor object to execute SQL statements\n        cursor = connection.cursor()\n\n        # Define the SQL statement to insert data into the table\n        insert_query = &quot;&quot;&quot;\n            INSERT INTO data (emptySet, manfName, modelNum, serialNum, revNum, device_type, whats_taken, body, \n            temperature, unit, emptySet2, additionalInt1, additionalInt2)\n            VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)\n        &quot;&quot;&quot;\n\n        # Process and insert each line of data\n        for line in data:\n            # Skip empty lines\n            if line:\n                # Extract the values from the line\n                values = line.split(&quot;,&quot;)\n\n                # If the number of values doesn't match the number of placeholders, insert None for missing values\n                if len(values) &lt; 13:\n                    values += [None] * (13 - len(values))\n\n                # Execute the SQL statement with the extracted values\n                cursor.execute(insert_query, values)\n\n        # Commit the changes to the database\n        connection.commit()\n\n        print(&quot;Data inserted successfully&quot;)\n\n    except mysql.connector.Error as error:\n        print(&quot;Error inserting data:&quot;, error)\n\n    finally:\n        # Close the cursor and connection\n        if cursor:\n            cursor.close()\n        if connection:\n            connection.close()\n\n</code></pre>\n<p>mySQL Output:\n<a href=\"https://i.stack.imgur.com/6RZau.png\" rel=\"nofollow noreferrer\">It is only printing the 3 one characters because it is set to VARCHAR(1)</a></p>\n<p>Terminal output:</p>\n<pre><code>Data to be uploaded: ['']\nRaw Data: b'\\n'\nData inserted successfully\nData to be uploaded: ['Trimedika']\nRaw Data: b'Trimedika\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['TTC']\nRaw Data: b'TTC\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['MJ200540011']\nRaw Data: b'MJ200540011\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['1.0.12']\nRaw Data: b'1.0.12\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['Health Thermometer']\nRaw Data: b'Health Thermometer\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['Temperature']\nRaw Data: b'Temperature\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['Body']\nRaw Data: b'Body\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['31.5']\nRaw Data: b'31.5\\n'\nError inserting data: 1406 (22001): Data too long for column 'emptySet' at row 1\nData to be uploaded: ['C']\nRaw Data: b'C\\n'\nData inserted successfully\nData to be uploaded: ['']\nRaw Data: b'\\n'\nData inserted successfully\nData to be uploaded: ['1']\nRaw Data: b'1\\n'\nData inserted successfully\nData to be uploaded: ['0']\nRaw Data: b'0\\n'\nData inserted successfully\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "html",
                "mysql",
                "flask"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 258701,
                        "reputation": 109779,
                        "user_id": 541038,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=256&d=identicon&r=PG",
                        "display_name": "Joran Beasley",
                        "link": "https://stackoverflow.com/users/541038/joran-beasley"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685986062,
                    "post_id": 76408725,
                    "comment_id": 134734560,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76408725/how-to-show-images-from-database-with-flask#comment134734560_76408725",
                    "body": "you need to store it as base64 data url in order to do this ... why not just save to disk? generally storing photos in a database as binary blobs is not desirable ..."
                },
                {
                    "owner": {
                        "account_id": 26221187,
                        "reputation": 1,
                        "user_id": 19898586,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/1f91e90720b9b7c241ebb91d2d401e54?s=256&d=identicon&r=PG",
                        "display_name": "Felipe Wai",
                        "link": "https://stackoverflow.com/users/19898586/felipe-wai"
                    },
                    "reply_to_user": {
                        "account_id": 258701,
                        "reputation": 109779,
                        "user_id": 541038,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=256&d=identicon&r=PG",
                        "display_name": "Joran Beasley",
                        "link": "https://stackoverflow.com/users/541038/joran-beasley"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685992129,
                    "post_id": 76408725,
                    "comment_id": 134735595,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76408725/how-to-show-images-from-database-with-flask#comment134735595_76408725",
                    "body": "@JoranBeasley I&#39;m kinda new to all of this, do you mean to save all profiles pictures at my disk? I thought that saving at the DB was the easy way"
                },
                {
                    "owner": {
                        "account_id": 258701,
                        "reputation": 109779,
                        "user_id": 541038,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=256&d=identicon&r=PG",
                        "display_name": "Joran Beasley",
                        "link": "https://stackoverflow.com/users/541038/joran-beasley"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685992363,
                    "post_id": 76408725,
                    "comment_id": 134735637,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76408725/how-to-show-images-from-database-with-flask#comment134735637_76408725",
                    "body": "its not so much that its hard as that it is inefficient ... in theory (hopefully) you are using a blob type for the file... which iirc in mysql is converting that to base64data ... then when you fetch it it is converting back to binary...but in order to show it you need to have a base64 data-url (or a link to an uploaded file on disk that is reachable via a web route)"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 26221187,
                                "reputation": 1,
                                "user_id": 19898586,
                                "user_type": "registered",
                                "profile_image": "https://www.gravatar.com/avatar/1f91e90720b9b7c241ebb91d2d401e54?s=256&d=identicon&r=PG",
                                "display_name": "Felipe Wai",
                                "link": "https://stackoverflow.com/users/19898586/felipe-wai"
                            },
                            "edited": false,
                            "score": 0,
                            "post_type": "answer",
                            "creation_date": 1686022833,
                            "post_id": 76409449,
                            "comment_id": 134738742,
                            "content_license": "CC BY-SA 4.0",
                            "link": "https://stackoverflow.com/questions/76408725/how-to-show-images-from-database-with-flask/76409449#comment134738742_76409449",
                            "body": "That worked! Thanks man, helped so much"
                        }
                    ],
                    "owner": {
                        "account_id": 258701,
                        "reputation": 109779,
                        "user_id": 541038,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=256&d=identicon&r=PG",
                        "display_name": "Joran Beasley",
                        "link": "https://stackoverflow.com/users/541038/joran-beasley"
                    },
                    "comment_count": 1,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685993089,
                    "creation_date": 1685993089,
                    "answer_id": 76409449,
                    "question_id": 76408725,
                    "content_license": "CC BY-SA 4.0",
                    "title": "How to show images from Database with flask",
                    "body": "<p>I dont think you need matplotlib at all</p>\n<pre><code>import base64\nwith open(&quot;/path/to/img.png&quot;,&quot;rb&quot;) as f:\n    data_uri = f&quot;data:image/png;base64,{base64.b64encode(f.read()).decode()}&quot;\n    print(data_uri)\n    # test by copy pasting data_uri into your browser\n    # save data_uri somewhere (it does not have to be blob since it is now text)\n</code></pre>\n<p>then later</p>\n<pre><code>&lt;img src={{data_uri}} /&gt;\n</code></pre>\n<p>but I would recommend following <a href=\"https://flask.palletsprojects.com/en/2.3.x/patterns/fileuploads/\" rel=\"nofollow noreferrer\">flasks file upload guide</a> and not saving the images in the database and using the <code>File</code> database model type</p>\n"
                }
            ],
            "owner": {
                "account_id": 26221187,
                "reputation": 1,
                "user_id": 19898586,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/1f91e90720b9b7c241ebb91d2d401e54?s=256&d=identicon&r=PG",
                "display_name": "Felipe Wai",
                "link": "https://stackoverflow.com/users/19898586/felipe-wai"
            },
            "comment_count": 3,
            "is_answered": false,
            "view_count": 25,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1685993089,
            "creation_date": 1685985883,
            "question_id": 76408725,
            "share_link": "https://stackoverflow.com/q/76408725/14467927",
            "link": "https://stackoverflow.com/questions/76408725/how-to-show-images-from-database-with-flask",
            "title": "How to show images from Database with flask",
            "body": "<p>I'm working on a project with some friends and we're doing a basketball championship website were anybody can create an account, that account will have a default image when created, but my problem is how to display that image on the page. Here's what I'm trying to do now:</p>\n<p>(some words are in portugese)</p>\n<p>querys.py:</p>\n<p>Storing the picture in a variable</p>\n<pre><code>from matplotlib import image as img\n\nfoto_perfil = img.imread(&quot;website\\static\\img\\pngwing.com.png&quot;)\n</code></pre>\n<p>when the account is created the picture is stored in the DB (it's working)</p>\n<pre><code>`def inserir_conta_jogador(email, password, coach, player):\n    cursor = mysql.connection.cursor()\n    inserir_conta_no_banco = cursor.execute(&quot;&quot;&quot; INSERT INTO conta (email, password, coach, player, picture) VALUES (%s, %s, %s, %s, %s)&quot;&quot;&quot;, (email, password, coach, player, picture))\n    mysql.connection.commit()\n    cursor.close()`\n\n</code></pre>\n<p>From now on I don't know if any of these is working</p>\n<p>getting the picture(&quot;foto&quot;) from the db</p>\n<pre><code>def get_foto(id):\n    cursor = mysql.connection.cursor()\n    get_foto = cursor.execute(&quot;&quot;&quot; SELECT foto FROM conta WHERE id = %s&quot;&quot;&quot;, [id])\n    get_foto_fecth = cursor.fetchone()\n    return get_foto\n</code></pre>\n<p>getting the picture from the user that's logged in and storing it as &quot;foto&quot; for the HTML page</p>\n<pre><code>@views.route('/', methods=['GET', 'POST'])\ndef home():\n    if &quot;user_id&quot; in session:\n        user = session[&quot;user_id&quot;]\n        foto = get_foto(user)\n        return render_template(&quot;index.html&quot;, user=user, foto=foto)\n    return render_template(&quot;index.html&quot;)\n</code></pre>\n<p>Displaying at the page:</p>\n<pre><code>{% if user %}\n  &lt;h1&gt; ID LOGGED: {{ user }}&lt;/h1&gt;\n  &lt;img src=&quot;{{foto}}&quot;&gt;\n  {% else %}\n  &lt;h1&gt; NOBODY LOGGED IN &lt;/h1&gt;\n  {% endif %}\n</code></pre>\n<p>When I go to the page the image is not shown</p>\n<p>What should I change in my code?</p>\n<p>Show the image at the page</p>\n"
        },
        {
            "tags": [
                "python",
                "sql",
                "mysql",
                "rasa",
                "rasa-nlu"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 22506547,
                        "reputation": 842,
                        "user_id": 16702058,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/1d7ec61f874e7032fd32d15e86891f12?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Hi computer",
                        "link": "https://stackoverflow.com/users/16702058/hi-computer"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686017276,
                    "post_id": 76408475,
                    "comment_id": 134738357,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76408475/how-to-display-fetch-data-from-mysql-database-as-an-output-in-rasa-chatbot-assis#comment134738357_76408475",
                    "body": "Please add a more detailed explanation of what you are trying to achieve, the relevant DDL An example with a small sample of data and the expected result would help explain"
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 28562526,
                        "reputation": 16,
                        "user_id": 21865861,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/4ac1bb022658539839f7c905f8df61c5?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Venkat",
                        "link": "https://stackoverflow.com/users/21865861/venkat"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685994346,
                    "creation_date": 1685994346,
                    "answer_id": 76409568,
                    "question_id": 76408475,
                    "content_license": "CC BY-SA 4.0",
                    "title": "How to display fetch data from MySQL Database as an output in rasa chatbot assistant?",
                    "body": "<p>Use the code  SELECT * FROM tableName WHERE product_id = 'productId'; which can be used to get the all the information from table with the productid specified.</p>\n"
                }
            ],
            "owner": {
                "account_id": 10126739,
                "reputation": 31,
                "user_id": 7481777,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/622624134591634/picture?type=large",
                "display_name": "Bhaskar Gupta",
                "link": "https://stackoverflow.com/users/7481777/bhaskar-gupta"
            },
            "comment_count": 1,
            "is_answered": false,
            "view_count": 23,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1686054814,
            "creation_date": 1685983647,
            "question_id": 76408475,
            "share_link": "https://stackoverflow.com/q/76408475/14467927",
            "link": "https://stackoverflow.com/questions/76408475/how-to-display-fetch-data-from-mysql-database-as-an-output-in-rasa-chatbot-assis",
            "title": "How to display fetch data from MySQL Database as an output in rasa chatbot assistant?",
            "body": "<p>I am working on a project and I wanted to know how can I retrieve all the columns related to MySQL product_id when one of the id is entered to chatbot input field?</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "pandas"
            ],
            "owner": {
                "account_id": 5828415,
                "reputation": 83,
                "user_id": 4593892,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/7oRQA.jpg?s=256&g=1",
                "display_name": "DuncanG",
                "link": "https://stackoverflow.com/users/4593892/duncang"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 14,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685967741,
            "creation_date": 1685967741,
            "question_id": 76406370,
            "share_link": "https://stackoverflow.com/q/76406370/14467927",
            "link": "https://stackoverflow.com/questions/76406370/python-sqlalchemy-strugles-when-mysql-query-result-is-empty",
            "title": "Python sqlalchemy strugles when mysql query result is empty",
            "body": "<p>Hi I am running mysql queries from within Python Pandas.</p>\n<p>I have a large table 50mil records I am querying using a for loop. The for loop is cycling through a large list of customer ids (some 20,000) I need a single return each for. The loop enables me to clean up the mysql results and return a single result per customer, as in this table a customer can have multiple records within the date range criteria set.</p>\n<p>I am seeking to return the closest record to the end date for each customer. What I am looking through are purchase actions so I can not look for an exact date and time as not all customers purchase items on every day at every time. Thus I am using a wider Date range, sorting by newest date and limiting the return to 1. This should give me a record for each customer, on the desired date or back in time to the closest date a purchase was recorded.</p>\n<p>I am also opening and closing the database connection on each loop as I was finding if the MYSQL connector paused for whatever reason the query would hang in python for up to 48 hours before erroring in a time out. I am using the try.except function to manage the timeout errors this process will throw up.</p>\n<p>The issue I am now facing and that I am struggling to find an answer for is when a mysql query results in an empty object. Pandas is continuing to wait for data, and as such pauses indefinitely.</p>\n<p>I am thinking sqlachemy.engine.Result.one_or_none() should handle these circumstances and cause a time out the except layer of the try catch will manage. But I can not find an example that suits my circumstances. Or any other way to wait a sensible amount of time (eg 5 minutes), then force a timeout error the try.except can catch and manage. thus allowing the for loop to continue on without getting bogged down with these empty results.</p>\n<p>Therefore I am seeking the communities help.</p>\n<p>here is the block of code I have working but which I am struggling to find a solution for.</p>\n<pre><code>customer_price_at_date = pd.DataFrame()\n\nstartDate = '2020-02-11'\nendDate = '2020-02-28'\n\ncount = 0\nloop_len = len(customers_df.index)\n\nfor index, row in customers_df.itterows():\n   db_connection = engine.connect()\n\n   try:\n     customer_id = row('id')\n     customer_purchase_query = (&quot;SELECT customerId, purchasePrice, orderPrice, orderDate &quot;\\\n                                &quot;FROM orders WHERE customerId = {0} AND orderDate BETWEEN '{1}'&quot;\\\n                                &quot;AND '{2}' ORDER BY customerId DESC LIMIT 1&quot;\\\n                                 ).format(customer_id, startDate, endDate)\n\n   customer_price_at_date = customer_price_at_date.append(pd.readsql(customer_purchase_query, \n                            con=db_connection))\n\n   db_connection.close()\n   count = count + 1\n   loop_len = loop_len -1\n\n   print('Processing Customer Id ' + str(customer_id) + ' in loop ' + str(loop_len) + ' Customer \n   Ids to go')\n\nexcept TimeoutError:\n  continue\n  customer_price_at_date = customer_price_at_date.append(customer_id)\n  db.connection.close()\n  print('Error processing Customer Id ' + str(customer_id) + ' in loop ' + str(loop_len) + ' \n  Customer Ids to go')\n\n</code></pre>\n<p>The above code works and grabs the correct records from the MySQl db, but at present is pausing when a customer query within MYSQL has an empty return for the between date criteria.</p>\n<p>All comments and advise greatly appreciated.</p>\n<p>Kind regards</p>\n<p>Duncan</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "mysql-python",
                "yara"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685959887,
                    "post_id": 76405346,
                    "comment_id": 134728635,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728635_76405346",
                    "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/46019616/tuple-object-has-no-attribute-encode\">&#39;tuple&#39; object has no attribute &#39;encode&#39;</a>"
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "reply_to_user": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685959976,
                    "post_id": 76405346,
                    "comment_id": 134728651,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728651_76405346",
                    "body": "I already saw this post and nop don&#39;t solved my problem."
                },
                {
                    "owner": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685960260,
                    "post_id": 76405346,
                    "comment_id": 134728730,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728730_76405346",
                    "body": "Can you please post the code and the new error you get when trying out that solution?"
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "reply_to_user": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685960500,
                    "post_id": 76405346,
                    "comment_id": 134728800,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728800_76405346",
                    "body": "I get same error"
                },
                {
                    "owner": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 1,
                    "post_type": "question",
                    "creation_date": 1685960816,
                    "post_id": 76405346,
                    "comment_id": 134728874,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728874_76405346",
                    "body": "It seems unlikely to me, as in the proposed solution the query is of type <code>str</code> and not <code>tuple</code> like in your case. I would ask you again to please add an update to your post including the code and output using the accepted answer in the linked post."
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "reply_to_user": {
                        "account_id": 19460237,
                        "reputation": 374,
                        "user_id": 14234692,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/d07d6376dd597effd300108193734704?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "psalt",
                        "link": "https://stackoverflow.com/users/14234692/psalt"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685961282,
                    "post_id": 76405346,
                    "comment_id": 134728968,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134728968_76405346",
                    "body": "Maybe I did something wrong, but can you please tell me what I have to change and where. Just to confirm that I&#39;m not making something wrong."
                },
                {
                    "owner": {
                        "account_id": 3112422,
                        "reputation": 672,
                        "user_id": 2633917,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/70dab48765edce297426afda59e733a3?s=256&d=identicon&r=PG",
                        "display_name": "tobifasc",
                        "link": "https://stackoverflow.com/users/2633917/tobifasc"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685961811,
                    "post_id": 76405346,
                    "comment_id": 134729078,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134729078_76405346",
                    "body": "Do you want to add the whole file in one db row or add one db row per file row to your <code>analysis</code> table?"
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685962178,
                    "post_id": 76405346,
                    "comment_id": 134729158,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134729158_76405346",
                    "body": "I want one db row for the whole file"
                },
                {
                    "owner": {
                        "account_id": 1249121,
                        "reputation": 12807,
                        "user_id": 1209921,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=256&g=1",
                        "display_name": "Matthias",
                        "link": "https://stackoverflow.com/users/1209921/matthias"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685962811,
                    "post_id": 76405346,
                    "comment_id": 134729290,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134729290_76405346",
                    "body": "You define <code>yaraQuery</code> as a tuple and then you try to use this tuple (under the name <code>query</code>) in <code>cursor.execute(query, multi=True)</code>. But <code>execute</code> doesn&#39;t accept a tuple as the value for the query, it has to be a string."
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685963670,
                    "post_id": 76405346,
                    "comment_id": 134729448,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134729448_76405346",
                    "body": "I&#39;m dumb, I was writing wrong. Now I got other error, can someone help me?"
                },
                {
                    "owner": {
                        "account_id": 28755507,
                        "reputation": 1,
                        "user_id": 22022621,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                        "display_name": "Jaime Daniel da Silva Martins",
                        "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685964084,
                    "post_id": 76405346,
                    "comment_id": 134729531,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error#comment134729531_76405346",
                    "body": "Updated the post, still need help"
                }
            ],
            "owner": {
                "account_id": 28755507,
                "reputation": 1,
                "user_id": 22022621,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtct8-X98cmhx-97xUcMEeqRhEs7k5q9GYFjqYeQ=k-s256",
                "display_name": "Jaime Daniel da Silva Martins",
                "link": "https://stackoverflow.com/users/22022621/jaime-daniel-da-silva-martins"
            },
            "comment_count": 11,
            "is_answered": false,
            "view_count": 33,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1685964042,
            "creation_date": 1685959633,
            "last_edit_date": 1685964042,
            "question_id": 76405346,
            "share_link": "https://stackoverflow.com/q/76405346/14467927",
            "link": "https://stackoverflow.com/questions/76405346/attributeerror-tuple-object-has-no-attribute-encode-python-mysql-error",
            "title": "AttributeError: &#39;tuple&#39; object has no attribute &#39;encode&#39; . Python/MySQL error",
            "body": "<p>I'm on a Python project with MySql and I know the code is ugly. I'm trying to insert the content of a text file into the database.</p>\n<p>Main code:</p>\n<pre><code>import mysql.connector\nimport db_interaction\nimport file_analysis\n\nconnection = mysql.connector.MySQLConnection(user=db_user, password=db_password)\n\nrulesPath = str(input(&quot;[+] Type the path to the rules (Without the '~'): &quot;)) # Specify the path and the file\nanalysisPath = str(input(&quot;[+] Type the path to the file to analyze (Without the '~'): &quot;)) # Specify the path and the file\n\nfile_analysis.yaraAnalysis(rulesPath ,analysisPath)\n\nfile = open(&quot;yaraOutput.txt&quot;, 'r')\nfileContent = file.read()\nfile.close()\n\nyaraQuery = &quot;INSERT INTO analysis(yara_output) VALUES(%s);, (fileContent)\n\ndb_interaction.queryFunction(connection ,query=&quot;USE analysis;&quot;)\ndb_interaction.queryFunction(connection, query=yaraQuery, params=fileContent)`\n</code></pre>\n<p>Header files:</p>\n<pre><code>from mysql.connector import Error\n\n\ndef queryFunction(connection, query, params=None):\n\n    cursor = connection.cursor()\n\n    try:\n        cursor.execute(query, params, multi=True)\n        connection.commit()\n        print(&quot;[-] Query executed!&quot;)\n    except Error as err:\n        print(f&quot;[!] Error: '{err}'&quot;)`\n\ndef yaraAnalysis(rulesPath, analysisPath):\n\n    while True:\n        \n        if not os.path.exists(rulesPath): \n            print(&quot;[!] Rules file doesn't exist&quot;)\n            break\n        elif not os.path.exists(analysisPath):\n            print(&quot;[!] Analysis file doesn't exist&quot;)\n            break\n        else:\n            yaraCommand = &quot;yara -s {0} {1} &gt; yaraOutput.txt&quot;.format(rulesPath, analysisPath)\n            os.system(yaraCommand)\n            break\n</code></pre>\n<p>Content of the text file:</p>\n<pre><code>0x18e:$cat_command: cat\n0x1d9:$cat_command: cat\n0x224:$cat_command: cat\n0x24:$socket_command: socket\n0x6ef:$socket_command: socket\n0x708:$socket_command: socket\n0x70f:$socket_command: socket\n0x716:$socket_command: socket\n0x726:$socket_command: socket\n0xf89:$socket_command: socket\n0x299:$open_command: open\n0x770:$open_command: open\n0x2b9:$file_command: file\n0x32d:$file_command: file\n0x362:$file_command: file\n0x3f4:$file_command: file\n0x429:$file_command: file\n0x4bb:$file_command: file\n0x4f0:$file_command: file\n0x586:$file_command: file\n0x5bb:$file_command: file\n0x791:$file_command: file\n0x7a5:$file_command: file\n0x7aa:$file_command: file\n0x270:$whoami_command: whoami\n0x675:$chmod_command: chmod\n0x2aa:$txt: .txt\n0x781:$txt: .txt\n0x195:$etc_path: /etc/\n0x1e0:$etc_path: /etc/\n0x22b:$etc_path: /etc/\n0x5f5:$ipv4_classC_string: 127.0.0.1\n</code></pre>\n<p>After I execute the main.py, I get this error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/home/xvjvx/Projects/Final-Project/src/analysis/python/main.py&quot;, line 31, in &lt;module&gt;\n    main()\n  File &quot;/home/xvjvx/Projects/Final-Project/src/analysis/python/main.py&quot;, line 28, in main\n    db_interaction.queryFunction(connection, query=yaraQuery)\n  File &quot;/home/xvjvx/Projects/Final-Project/src/analysis/python/db_interaction.py&quot;, line 9, in queryFunction\n    cursor.execute(query, multi=True)\n  File &quot;/usr/local/lib/python3.9/dist-packages/mysql/connector/cursor.py&quot;, line 589, in execute\n    stmt = operation.encode(self._connection.python_charset)\nAttributeError: 'tuple' object has no attribute 'encode'\n</code></pre>\n<p>I solved that first error, changed the code on the post to the most recent and now I got this error:</p>\n<pre><code> 'Could not process parameters: str(malwareDetection /home/xvjvx/Projects/Final-Project/src/trojan/main.py\n0x18e:$cat_command: cat\n0x1d9:$cat_command: cat\n0x224:$cat_command: cat\n0x24:$socket_command: socket\n0x616:$socket_command: socket\n0x62f:$socket_command: socket\n0x636:$socket_command: socket\n0x63d:$socket_command: socket\n0x64d:$socket_command: socket\n0xed4:$socket_command: socket\n0x299:$open_command: open\n0x697:$open_command: open\n0x2b9:$file_command: file\n0x32d:$file_command: file\n0x362:$file_command: file\n0x3f4:$file_command: file\n0x429:$file_command: file\n0x4bb:$file_command: file\n0x4f0:$file_command: file\n0x586:$file_command: file\n0x5bb:$file_command: file\n0x6b8:$file_command: file\n0x6cc:$file_command: file\n0x6d1:$file_command: file\n0x270:$whoami_command: whoami\n0x2aa:$txt: .txt\n0x6a8:$txt: .txt\n0x195:$etc_path: /etc/\n0x1e0:$etc_path: /etc/\n0x22b:$etc_path: /etc/\n0x670:$ipv4_classC_string: 127.0.0.1\n0x671:$ipv4_classC_string: 27.0.0.1\n0x672:$ipv4_classC_string: 7.0.0.1\n), it must be of type list, tuple or dict'\n</code></pre>\n<p>I already searched on internet for a solution but I can't find it. Need help please!</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "sql-update",
                "sql-insert",
                "pymysql"
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 20547440,
                        "reputation": 341,
                        "user_id": 16396496,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/MRjvY.jpg?s=256&g=1",
                        "display_name": "younghyun",
                        "link": "https://stackoverflow.com/users/16396496/younghyun"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685946640,
                    "creation_date": 1685946640,
                    "answer_id": 76403983,
                    "question_id": 76403950,
                    "content_license": "CC BY-SA 4.0",
                    "title": "how to update value of &quot;last_dt&quot; col when using&quot;UPDATE&quot; or &quot;INSERT IGNORE INTO ~ ON DUPLICATE KEY UPDATE ~&quot; statement",
                    "body": "<p>I think I have to use this</p>\n<pre><code>  `date`    TIMESTAMP      NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 20547440,
                "reputation": 341,
                "user_id": 16396496,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/MRjvY.jpg?s=256&g=1",
                "display_name": "younghyun",
                "link": "https://stackoverflow.com/users/16396496/younghyun"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 14,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1685946640,
            "creation_date": 1685946209,
            "question_id": 76403950,
            "share_link": "https://stackoverflow.com/q/76403950/14467927",
            "link": "https://stackoverflow.com/questions/76403950/how-to-update-value-of-last-dt-col-when-usingupdate-or-insert-ignore-into",
            "title": "how to update value of &quot;last_dt&quot; col when using&quot;UPDATE&quot; or &quot;INSERT IGNORE INTO ~ ON DUPLICATE KEY UPDATE ~&quot; statement",
            "body": "<p>The last_dt column is the last date the data was changed. It is managed differently from the inserted date. Inserted date is managed by create_dt.</p>\n<p>I want to change the update date value only when there is a change in the other columns except the update_dt column.</p>\n<p>so gpt gave me that</p>\n<pre class=\"lang-sql prettyprint-override\"><code>UPDATE your_table\nSET column1 = %s, column2 = %s, column3 = %s, update_date = IF(\n    column1 &lt;&gt; %s OR column2 &lt;&gt; %s OR column3 &lt;&gt; %s,\n    NOW(), update_date\n)\nWHERE id = %s\n</code></pre>\n<p>But I think this method is a bit odd. I actually tested it and there is an error. It is also possible that I have written the code incorrectly.</p>\n<p>Is there any good way? Is the answer provided by gpt the correct way? I think many db admins have solved the same problem. I'm asking because I couldn't find a suitable answer.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql"
            ],
            "owner": {
                "account_id": 14841704,
                "reputation": 13,
                "user_id": 10718253,
                "user_type": "registered",
                "profile_image": "https://lh4.googleusercontent.com/-mfsDZlntB6c/AAAAAAAAAAI/AAAAAAAAABU/wqJMa1esQ4M/photo.jpg?sz=256",
                "display_name": "Dirk le Roux",
                "link": "https://stackoverflow.com/users/10718253/dirk-le-roux"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 12,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685881241,
            "creation_date": 1685881241,
            "question_id": 76400393,
            "share_link": "https://stackoverflow.com/q/76400393/14467927",
            "link": "https://stackoverflow.com/questions/76400393/tkinter-get-values-from-multiple-checkboxes-and-adding-list-with-multiple-tuples",
            "title": "Tkinter get values from multiple checkboxes and adding list with multiple tuples to MySQL",
            "body": "<p>Good Day</p>\n<p>I'm stuck with some code. I need to do two things: 1. Create multiple checkboxes and add the ticked boxes to a list. 2. Add multiple tuples/lists to MySQL.</p>\n<p>Checkboxes (My code so far):</p>\n<pre><code>def weapon_submit():\n    selection_list = ['Blueprint']\n    ticked_items = weapon_selection.get()\n    for btn in check_buttons:\n        if ticked_items == 1:\n            item_name = weapon_box.cget('text')\n            selection_list += item_name\n                \n# Checkboxes\ncurrent_row = 1\ncurrent_col = 0\ncheck_buttons = []\nfor item in weapon_part_list:\n    weapon_selection = StringVar()\n    weapon_box = Checkbutton(weapon_window, text=item, variable=weapon_selection)\n    weapon_box.config(bg=bg_color, fg=font_color, font=text_font, selectcolor=blue)\n    weapon_box.deselect()\n    weapon_box.grid(row=current_row, column=current_col, padx=15, pady=15)\n    check_buttons.append(weapon_selection)\n    current_row += 1\n    if current_row == 4:\n    current_row = 1\n    current_col += 1\n\n# Button\nenter_button = Button(weapon_window, text=&quot;Submit&quot;, command=weapon_submit, bg=btn_color, fg=font_color, font=text_font, relief=GROOVE)\nenter_button.grid(row=5, column=2, pady=(30, 0))\n</code></pre>\n<p>Above code is generating the boxes and placement correctly, but I can't get the values to add them to a list.</p>\n<p>Database (My code so far):</p>\n<pre><code>    def submit():\n        data_list = []\n        for part in warframe_part_list:\n            data_list.append(f'{(prime_entry.get(), part, clicked_relic.get(), relic_no_entry.get(), clicked_rarity.get(), quantity_entry.get(), clicked_mission.get(), clicked_planet.get(), location_entry.get(), clicked_rotation.get(), drop_chance_entry.get(), clicked_obtained.get())}')\n    \n    connections = mysql.connector.connect(user=user, password=password, host=host, database=database)\n    cursors = connections.cursor()\n    sql = &quot;INSERT INTO relics (prime, part, relic, relic_no, rarity, quantity, drop_mission, drop_planet, drop_location, drop_rotation, drop_chance, obtained) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)&quot;\n    cursors.executemany(sql, data_list)\n    connections.commit()\n    connections.close()\nadd_relics_window.destroy()\nrelics_window.deiconify()\ntreeview()\n</code></pre>\n<p>I keep getting MySQL errors.</p>\n<p>You're help is much appreciated.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "mysql-python"
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 18673087,
                        "reputation": 19,
                        "user_id": 13611358,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/34aee7f5b4cb388ca3af40ad1a91f206?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Sachin D",
                        "link": "https://stackoverflow.com/users/13611358/sachin-d"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685662891,
                    "last_edit_date": 1685662891,
                    "creation_date": 1685620563,
                    "answer_id": 76381608,
                    "question_id": 76381222,
                    "content_license": "CC BY-SA 4.0",
                    "title": "Running 2 queries sequentially using cursor.execute for MySQL",
                    "body": "<p>Ok, I found the error after a bit of research.</p>\n<p>My hunch was right that this was a script error. The correct SQL query is as follows :</p>\n<pre><code>sql1 = &quot;&quot;&quot;\n   UPDATE npalace.t_bank_pnb\n   JOIN npalace.map_pnb \n   SET npalace.t_bank_pnb.dr_category = npalace.map_pnb.dr_cat,\n       npalace.t_bank_pnb.cr_category = npalace.map_pnb.cr_cat,\n       npalace.t_bank_pnb.flat_no = npalace.map_pnb.flat_num\n   WHERE npalace.t_bank_pnb.updated_on = CURDATE()\n     AND npalace.t_bank_pnb.descr LIKE CONCAT('%', npalace.map_pnb.descript, '%')\n&quot;&quot;&quot;\n</code></pre>\n<p>The key was to include the substring comparison in a <code>WHERE</code> operator.</p>\n"
                }
            ],
            "owner": {
                "account_id": 18673087,
                "reputation": 19,
                "user_id": 13611358,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/34aee7f5b4cb388ca3af40ad1a91f206?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Sachin D",
                "link": "https://stackoverflow.com/users/13611358/sachin-d"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 38,
            "answer_count": 1,
            "score": -1,
            "last_activity_date": 1685662891,
            "creation_date": 1685617369,
            "last_edit_date": 1685619941,
            "question_id": 76381222,
            "share_link": "https://stackoverflow.com/q/76381222/14467927",
            "link": "https://stackoverflow.com/questions/76381222/running-2-queries-sequentially-using-cursor-execute-for-mysql",
            "title": "Running 2 queries sequentially using cursor.execute for MySQL",
            "body": "<p>I have a script that does 2 things :\na) It reads a csv file (bank transactions) and populates a transactions table in a MySQL database.\nb) Additional columns in the transaction table are updated based on the transaction description mapped to a mapping file (debit category, credit category etc)</p>\n<p>Following is my script</p>\n<pre><code>import mysql.connector as msql\nimport pandas as pd\nfrom mysql.connector import Error\n\ntransdata = pd.read_csv('updt_stat.csv', index_col=False, delimiter=',')\ntransdata.fillna(0, inplace=True)\ntransdata = transdata.sort_values('Txn Date')\n\ntry:\n    conn = msql.connect(\n    host = 'localhost',\n    user = 'root',\n    password = 'root',\n    database = 'npalace'  \n    )\n    if conn.is_connected:\n        cursor = conn.cursor()\n        sql = &quot;SET FOREIGN_KEY_CHECKS=0&quot;\n        cursor.execute(sql)\n        print('Database Connected !')\nexcept Error as e:\n    print(&quot;Error connecting database&quot;, e)\n\nfor i,row in transdata.iterrows():\n    sql = &quot;INSERT INTO npalace.t_bank_pnb (txn_no, txn_date, descr, branch_name, cheque_no, \\\n        dr_amount, cr_amount, balance, updated_on) VALUES (%s,STR_TO_DATE(%s,'%d-%m-%Y'),%s,%s,%s,%s,%s,%s,curdate())&quot;\n    cursor.execute(sql, tuple(row))\n    print('Record Inserted')\n    conn.commit() \n\nsql1 = &quot;&quot;&quot;\n            UPDATE npalace.t_bank_pnb\n            JOIN npalace.map_pnb ON npalace.map_pnb.descript LIKE CONCAT('%', npalace.t_bank_pnb.descr, '%')\n            SET\n                npalace.t_bank_pnb.dr_category = npalace.map_pnb.dr_cat,\n                npalace.t_bank_pnb.cr_category = npalace.map_pnb.cr_cat,\n                npalace.t_bank_pnb.flat_no = npalace.map_pnb.flat_num\n            WHERE npalace.t_bank_pnb.updated_on = CURDATE()\n        &quot;&quot;&quot;   \n\ncursor.execute(sql1)\nconn.commit()\n\nconn.close()\n\nprint(cursor.rowcount, &quot;record(s) affected&quot;)\n\n</code></pre>\n<p>When I run the script, the first script - sql is run perfectly. However, the second script does not run or there is no change in the table.</p>\n<p>I have ensured that all the related tables are there in the database. I also have the csv formatted properly (can share it if required).</p>\n<p>I believe the problem might be in the syntax of second query. This query takes a description string from the transactions table and looks if it has any substring from another mapping table. When the match occurs, it picks up the other fields and copies them back to the transactions table.</p>\n<p>Can someone please help me with the right way to do this ?</p>\n<p>Thanks in advance</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 15659011,
                        "reputation": 586,
                        "user_id": 11298380,
                        "user_type": "registered",
                        "profile_image": "https://lh6.googleusercontent.com/-qDMJ2feSns4/AAAAAAAAAAI/AAAAAAAAGiA/pHTe4HDDerI/photo.jpg?sz=256",
                        "display_name": "The Coding Penguin",
                        "link": "https://stackoverflow.com/users/11298380/the-coding-penguin"
                    },
                    "edited": false,
                    "score": 4,
                    "post_type": "question",
                    "creation_date": 1685527767,
                    "post_id": 76372333,
                    "comment_id": 134671595,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134671595_76372333",
                    "body": "Please do not post screenshots of your code, paste your code into a code block in your post instead."
                },
                {
                    "owner": {
                        "account_id": 28040355,
                        "reputation": 1,
                        "user_id": 21418004,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/203c523c996edda2a0c6ed20b6c3c4bf?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Tha-Sethi",
                        "link": "https://stackoverflow.com/users/21418004/tha-sethi"
                    },
                    "reply_to_user": {
                        "account_id": 15659011,
                        "reputation": 586,
                        "user_id": 11298380,
                        "user_type": "registered",
                        "profile_image": "https://lh6.googleusercontent.com/-qDMJ2feSns4/AAAAAAAAAAI/AAAAAAAAGiA/pHTe4HDDerI/photo.jpg?sz=256",
                        "display_name": "The Coding Penguin",
                        "link": "https://stackoverflow.com/users/11298380/the-coding-penguin"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685529006,
                    "post_id": 76372333,
                    "comment_id": 134671830,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134671830_76372333",
                    "body": "@TheCodingPenguin I will repost after 90 minutes since the is no block code button on the comment section"
                },
                {
                    "owner": {
                        "account_id": 1167427,
                        "reputation": 23621,
                        "user_id": 1145388,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "profile_image": "https://i.stack.imgur.com/HZ9CL.png?s=256&g=1",
                        "display_name": "Stephen Ostermiller on Strike",
                        "link": "https://stackoverflow.com/users/1145388/stephen-ostermiller-on-strike"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685534796,
                    "post_id": 76372333,
                    "comment_id": 134673068,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134673068_76372333",
                    "body": "Please do not repost.  You need to <a href=\"https://stackoverflow.com/posts/76372333/edit\">edit</a> your question.  There is a an &quot;Edit&quot; link right under the tags or you can use the edit link I put in this comment."
                },
                {
                    "owner": {
                        "account_id": 6931568,
                        "reputation": 45970,
                        "user_id": 5320906,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=256&g=1",
                        "display_name": "snakecharmerb - on strike",
                        "link": "https://stackoverflow.com/users/5320906/snakecharmerb-on-strike"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685734808,
                    "post_id": 76372333,
                    "comment_id": 134708109,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134708109_76372333",
                    "body": "You don&#39;t have a route named &quot;login&quot;, you have a route named &quot;pythonlogin&quot;. You must either change the name of the route or change the string that you pass to <code>url_for</code>."
                },
                {
                    "owner": {
                        "account_id": 28040355,
                        "reputation": 1,
                        "user_id": 21418004,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/203c523c996edda2a0c6ed20b6c3c4bf?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Tha-Sethi",
                        "link": "https://stackoverflow.com/users/21418004/tha-sethi"
                    },
                    "reply_to_user": {
                        "account_id": 6931568,
                        "reputation": 45970,
                        "user_id": 5320906,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/NOdNo.jpg?s=256&g=1",
                        "display_name": "snakecharmerb - on strike",
                        "link": "https://stackoverflow.com/users/5320906/snakecharmerb-on-strike"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685948438,
                    "post_id": 76372333,
                    "comment_id": 134726567,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134726567_76372333",
                    "body": "@snakecharmerb-onstrike Thank you for your respond I have changed the code to what you have asked me to change it too but I&#39;m not really sure on how to use the &quot;url_for&quot; statement may you please send me a short code on how I should use it.&lt;code&gt;@app.route(&quot;/login&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;]) def login():     if &quot;loggedin&quot; in session:         return &quot;You are already logged in!&quot;      if request.method == &quot;POST&quot;:         username = request.form[&quot;username&quot;]         password = request.form[&quot;password&quot;]&lt;/code&gt;"
                },
                {
                    "owner": {
                        "account_id": 11603,
                        "reputation": 21445,
                        "user_id": 22437,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=256&g=1",
                        "display_name": "Dour High Arch",
                        "link": "https://stackoverflow.com/users/22437/dour-high-arch"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686080273,
                    "post_id": 76372333,
                    "comment_id": 134749585,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134749585_76372333",
                    "body": "Your question still says <code>@app.route(&quot;&#47;pythonlogin&#47;&quot;, ...</code> Edit your question, do not change your question in comments."
                },
                {
                    "owner": {
                        "account_id": 28040355,
                        "reputation": 1,
                        "user_id": 21418004,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/203c523c996edda2a0c6ed20b6c3c4bf?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Tha-Sethi",
                        "link": "https://stackoverflow.com/users/21418004/tha-sethi"
                    },
                    "reply_to_user": {
                        "account_id": 11603,
                        "reputation": 21445,
                        "user_id": 22437,
                        "user_type": "registered",
                        "accept_rate": 88,
                        "profile_image": "https://i.stack.imgur.com/H4s3Z.jpg?s=256&g=1",
                        "display_name": "Dour High Arch",
                        "link": "https://stackoverflow.com/users/22437/dour-high-arch"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1686123185,
                    "post_id": 76372333,
                    "comment_id": 134754234,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation#comment134754234_76372333",
                    "body": "@DourHighArch Thank you for your respond.I&#39;m still new on Stackoverflow I&#39;m not really sure what you are requesting of me. but I have tried other project that uses a POST statement and they all giving the same error. I don&#39;t think it the coding I think I need to configure something on MYSQL workbench, Visual Studio Code or Python"
                }
            ],
            "owner": {
                "account_id": 28040355,
                "reputation": 1,
                "user_id": 21418004,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/203c523c996edda2a0c6ed20b6c3c4bf?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Tha-Sethi",
                "link": "https://stackoverflow.com/users/21418004/tha-sethi"
            },
            "comment_count": 7,
            "is_answered": false,
            "view_count": 62,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1686110868,
            "creation_date": 1685527504,
            "last_edit_date": 1685692505,
            "question_id": 76372333,
            "share_link": "https://stackoverflow.com/q/76372333/14467927",
            "link": "https://stackoverflow.com/questions/76372333/unsupported-method-post-501-server-does-not-support-this-operation",
            "title": "Unsupported method (&#39;POST&#39;): 501 - Server does not support this operation",
            "body": "<p>I'm trying to create a simple login page but I keep on getting an error:</p>\n<blockquote>\n<p>Message: Unsupported method ('POST'). Error code explanation: 501 -\nServer does not support this operation.</p>\n</blockquote>\n<p>This is the code I'm using.</p>\n<pre><code>from flask import Flask, render_template, request, redirect, url_for, session\nfrom flask_mysqldb import MySQL\nimport hashlib\n\napp = Flask(__name__)\napp.secret_key = &quot;Core123&quot;\n\n# Enter your database connection details below\napp.config[&quot;MYSQL_HOST&quot;] = &quot;localhost&quot;\napp.config[&quot;MYSQL_USER&quot;] = &quot;root&quot;\napp.config[&quot;MYSQL_PASSWORD&quot;] = &quot;Core@123!&quot;\napp.config[&quot;MYSQL_DB&quot;] = &quot;pythonlogin&quot;\n\n# Initialize MySQL\nmysql = MySQL(app)\n\n\n@app.route(&quot;/pythonlogin/&quot;, methods=[&quot;GET&quot;, &quot;POST&quot;])\ndef login():\n    if &quot;loggedin&quot; in session:\n        return &quot;You are already logged in!&quot;\n\n    if request.method == &quot;POST&quot;:\n        username = request.form[&quot;username&quot;]\n        password = request.form[&quot;password&quot;]\n\n        # Retrieve the hashed password\n        hash = hashlib.sha1((password + app.secret_key).encode()).hexdigest()\n\n        cursor = mysql.connection.cursor()\n        cursor.execute(\n            &quot;SELECT * FROM accounts WHERE username = %s AND password \n          = %s&quot;,\n            (username, hash),\n        )\n        account = cursor.fetchone()\n\n        if account:\n            session[&quot;loggedin&quot;] = True\n            session[&quot;id&quot;] = account[0]\n            session[&quot;username&quot;] = account[1]\n            return &quot;Logged in successfully!&quot;\n        else:\n            return &quot;Incorrect username/password!&quot;\n\n    return render_template(&quot;index.html&quot;)\n\n\n@app.route(&quot;/home&quot;)\ndef home():\n    if &quot;loggedin&quot; in session:\n        return &quot;You are logged in!&quot;\n    else:\n        return redirect(url_for(&quot;login&quot;))\n\n\n   if __name__ == &quot;__main__&quot;:\n    app.run()\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "statistics"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 11533617,
                        "reputation": 3593,
                        "user_id": 8451814,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/fe819b52ea77c8a195abbdabb2e6f31c?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Woodford",
                        "link": "https://stackoverflow.com/users/8451814/woodford"
                    },
                    "edited": false,
                    "score": 1,
                    "post_type": "question",
                    "creation_date": 1685467507,
                    "post_id": 76367195,
                    "comment_id": 134663124,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python#comment134663124_76367195",
                    "body": "Can you please <a href=\"https://stackoverflow.com/posts/76367195/edit\">edit</a> your question to include what you have tried so far to solve the issue? See: <a href=\"https://stackoverflow.com/help/how-to-ask\"><i>How to ask a good question</i></a>"
                },
                {
                    "owner": {
                        "account_id": 9725613,
                        "reputation": 52414,
                        "user_id": 7212686,
                        "user_type": "registered",
                        "accept_rate": 100,
                        "profile_image": "https://i.stack.imgur.com/tC5Ht.png?s=256&g=1",
                        "display_name": "azro",
                        "link": "https://stackoverflow.com/users/7212686/azro"
                    },
                    "edited": false,
                    "score": 2,
                    "post_type": "question",
                    "creation_date": 1685467542,
                    "post_id": 76367195,
                    "comment_id": 134663131,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python#comment134663131_76367195",
                    "body": "See comments and answers of <a href=\"https://stackoverflow.com/questions/15800895/finding-clusters-of-numbers-in-a-list\" title=\"finding clusters of numbers in a list\">stackoverflow.com/questions/15800895/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 2345355,
                        "reputation": 163,
                        "user_id": 2055767,
                        "user_type": "registered",
                        "accept_rate": 36,
                        "profile_image": "https://www.gravatar.com/avatar/020133ee96787b31ca4289c199f30aad?s=256&d=identicon&r=PG",
                        "display_name": "cotfessi",
                        "link": "https://stackoverflow.com/users/2055767/cotfessi"
                    },
                    "reply_to_user": {
                        "account_id": 11533617,
                        "reputation": 3593,
                        "user_id": 8451814,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/fe819b52ea77c8a195abbdabb2e6f31c?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Woodford",
                        "link": "https://stackoverflow.com/users/8451814/woodford"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685467840,
                    "post_id": 76367195,
                    "comment_id": 134663183,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python#comment134663183_76367195",
                    "body": "@Woodford - wasn&#39;t sure if i was even asking the right question or using the appropriate statistical terms - didn&#39;t want someone to write an algorithm for me, just point me in the direction... didn&#39;t want to reinvent the wheel. it looks like i might need to check out k-means clustering.... thanks!"
                },
                {
                    "owner": {
                        "account_id": 1225662,
                        "reputation": 10327,
                        "user_id": 1191247,
                        "user_type": "registered",
                        "accept_rate": 75,
                        "profile_image": "https://www.gravatar.com/avatar/8821d8863aa853749bbecfaefe452230?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "user1191247",
                        "link": "https://stackoverflow.com/users/1191247/user1191247"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685473091,
                    "post_id": 76367195,
                    "comment_id": 134664153,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python#comment134664153_76367195",
                    "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/15800895/finding-clusters-of-numbers-in-a-list\">Finding clusters of numbers in a list</a>"
                },
                {
                    "owner": {
                        "account_id": 9417,
                        "reputation": 95838,
                        "user_id": 17389,
                        "user_type": "registered",
                        "accept_rate": 38,
                        "profile_image": "https://www.gravatar.com/avatar/cd06d1314817ce946ab796af8750b56a?s=256&d=identicon&r=PG",
                        "display_name": "ysth",
                        "link": "https://stackoverflow.com/users/17389/ysth"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685475711,
                    "post_id": 76367195,
                    "comment_id": 134664677,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python#comment134664677_76367195",
                    "body": "Please define what makes something a cluster.  Examples are helpful but insufficient."
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 11443181,
                        "reputation": 17338,
                        "user_id": 8431111,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/GteAE.jpg?s=256&g=1",
                        "display_name": "J_H",
                        "link": "https://stackoverflow.com/users/8431111/j-h"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685479840,
                    "creation_date": 1685479840,
                    "answer_id": 76368535,
                    "question_id": 76367195,
                    "content_license": "CC BY-SA 4.0",
                    "title": "find population clusters in a list in python",
                    "body": "<p>Based on the example values shown,\nthis may be a good candidate for\n<a href=\"https://centre-borelli.github.io/ruptures-docs\" rel=\"nofollow noreferrer\">ruptures</a>\nchange point detection.\nIt defines a loss function and then finds a global minimum.</p>\n<p>You can specify that the algorithm shall find K break points,\nsimilar to K-means. Or you can let it decide what number\nof break points best explains changes in the generating process.</p>\n"
                },
                {
                    "owner": {
                        "account_id": 2345355,
                        "reputation": 163,
                        "user_id": 2055767,
                        "user_type": "registered",
                        "accept_rate": 36,
                        "profile_image": "https://www.gravatar.com/avatar/020133ee96787b31ca4289c199f30aad?s=256&d=identicon&r=PG",
                        "display_name": "cotfessi",
                        "link": "https://stackoverflow.com/users/2055767/cotfessi"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685570817,
                    "last_edit_date": 1685570817,
                    "creation_date": 1685569792,
                    "answer_id": 76377517,
                    "question_id": 76367195,
                    "content_license": "CC BY-SA 4.0",
                    "title": "find population clusters in a list in python",
                    "body": "<p>I think i finally got this to work!  i figured i'd post my solution in case anyone else may search on this later...</p>\n<p>since i didn't know how many clusters or the spread of values within each cluster, i made an initial assumption that values should be within +/- 5% of the total distance from list max to list min.</p>\n<p>if i can't find a group for a specific score, i double the spread and try again. if i still can't find it, it gets a new group</p>\n<p>finally, in case that a score may appear to belong to more than one group given my assumption of the size of the spread, i place the score in the group with the shortest distance from score-in-question to the median of said group</p>\n<p><strong>the starting list:</strong></p>\n<pre><code>scores = [9944, 9555, 9772, 9707, 9623, 9724, 9717, 9751, 9717, 9763, 8967, 8988, 9000, 8836, 8968, 8996, 9173, 9027, 8896, 9130, 4301, 3806, 3696, 4372, 4203, 4702, 4290, 4552, 4113, 4325]\n</code></pre>\n<p><strong>the results:</strong></p>\n<pre><code>RESULTS: (completed in 0.000287 seconds)\n-----&gt; group [0]: [9944, 9555, 9772, 9707, 9623, 9724, 9717, 9751, 9717, 9763]\n-----&gt; group [1]: [8967, 8988, 9000, 8836, 8968, 8996, 9173, 9027, 8896, 9130]\n-----&gt; group [2]: [4301, 3806, 3696, 4372, 4203, 4702, 4290, 4552, 4113, 4325]\n</code></pre>\n<p><strong>the code:</strong></p>\n<pre><code>import time\nimport statistics\n\n\ndef analyze_list(list_to_analyze):\n    # setup\n    groupings = []\n    list_max = max(list_to_analyze)\n    list_min = min(list_to_analyze)\n    spread = int((list_max - list_min) * 0.05)\n    print('Starting with max = [{}], min = [{}], spread = [{}]'.format(list_max, list_min, spread))\n\n    count = 0\n    for tmp_score in list_to_analyze:\n        print('-&gt; checking [{}]...'.format(tmp_score))\n\n        # special case for the first one, it gets placed in the first group\n        if count == 0:\n            tmp_list = [tmp_score]\n            groupings.append(tmp_list)\n            print('-------&gt; WAHOO! adding [{}] to group [{}]'.format(tmp_score, 0))\n        else:\n            # check tmp_score against the median score of each group\n            # don't place them in the group, just add them to the 'tmp_placement_list'\n            # dictionary with the distance to the median\n            # -------------------------------------------------------------\n            count_group = 0\n            score_placed = False\n            tmp_placement_list = {}\n            for tmp_group_list in groupings:\n                tmp_median = int(statistics.median(tmp_group_list))\n\n                # calculate how close the score to check is to the median score in the current group\n                distance_from_median_value = abs(tmp_median - tmp_score)\n                print('---&gt; group [{}]  range = ({}..{}) - distance to median = [{}] '.format(count_group,\n                                                                                              tmp_median - spread,\n                                                                                              tmp_median + spread,\n                                                                                              distance_from_median_value))\n\n                if distance_from_median_value &lt;= spread:\n                    tmp_placement_list[count_group] = distance_from_median_value\n\n                # increment counter\n                count_group = count_group + 1\n\n            # analyze 'tmp_placement_list' dictionary - place score in\n            # group with the smallest distance to the median\n            # -------------------------------------------------------------\n            min_distance = spread * 2\n            winning_group = -1\n            for tmp_group_number in tmp_placement_list.keys():\n                print('-----&gt; result - group [{}] distance [{}]'.format(tmp_group_number, tmp_placement_list[tmp_group_number]))\n                if tmp_placement_list[tmp_group_number] &lt; min_distance:\n                    min_distance = tmp_placement_list[tmp_group_number]\n                    winning_group = tmp_group_number\n\n            if winning_group &gt; -1:\n                groupings[winning_group].append(tmp_score)\n                score_placed = True\n                print('-------&gt; WAHOO! adding [{}] to group [{}]'.format(tmp_score, winning_group))\n\n            if not score_placed:\n                # if we got here 'tmp_score' isn't within the current 'spread' of any of the groups.\n                # double the spread and try again\n                # -------------------------------------------------------------\n                second_chance_spread = spread * 2\n                tmp_placement_list = {}\n                count_group = 0\n                for tmp_group_list in groupings:\n                    tmp_median = int(statistics.median(tmp_group_list))\n\n                    # calculate how close the score to check is to the median score in the current group\n                    distance_from_median_value = abs(tmp_median - tmp_score)\n                    print('---&gt; 2nd chance - group [{}]  range = ({}..{}) - dist median = [{}] '.format(count_group,\n                                                                                                        tmp_median - spread,\n                                                                                                        tmp_median + spread,\n                                                                                                        distance_from_median_value))\n\n                    if distance_from_median_value &lt;= second_chance_spread:\n                        tmp_placement_list[count_group] = distance_from_median_value\n\n                    # increment counter\n                    count_group = count_group + 1\n\n                # analyze results - place score in group with the smallest distance to the median\n                # -------------------------------------------------------------\n                min_distance = spread * 2\n                winning_group = -1\n                for tmp_group_number in tmp_placement_list.keys():\n                    print(\n                        '-----&gt; result - group [{}] distance [{}]'.format(tmp_group_number, tmp_placement_list[tmp_group_number]))\n                    if tmp_placement_list[tmp_group_number] &lt; min_distance:\n                        min_distance = tmp_placement_list[tmp_group_number]\n                        winning_group = tmp_group_number\n\n                if winning_group &gt; -1:\n                    groupings[winning_group].append(tmp_score)\n                    score_placed = True\n                    print('-------&gt; WAHOO! adding [{}] to group [{}]'.format(tmp_score, winning_group))\n\n            if not score_placed:\n                # if we got this far, then 'tmp_score' isn't within the 2x the original 'spread' of any of the\n                # medians of any of the groups\n                # assumption: this score is the start of a new group\n                # -------------------------------------------------------------\n                tmp_list = [tmp_score]\n                groupings.append(tmp_list)\n\n        # increment counter\n        count = count + 1\n\n    return groupings\n\n\nif __name__ == &quot;__main__&quot;:\n\n    # the initial list of scores\n    scores = [9944, 9555, 9772, 9707, 9623, 9724, 9717, 9751, 9717, 9763, 8967, 8988, 9000, 8836, 8968, 8996, 9173,\n              9027, 8896, 9130, 4301, 3806, 3696, 4372, 4203, 4702, 4290, 4552, 4113, 4325]\n\n    # time the execution of the analysis\n    time_start = time.time()\n    score_groupings = analyze_list(scores)\n    time_end = time.time()\n\n    # print the results\n    print('\\n\\nRESULTS: (completed in {} seconds)'.format(format(time_end - time_start, &quot;.6f&quot;)))\n    count = 0\n    for tmp_group in score_groupings:\n        print('-----&gt; group [{}]: {}'.format(count, tmp_group))\n        count = count + 1\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 2345355,
                "reputation": 163,
                "user_id": 2055767,
                "user_type": "registered",
                "accept_rate": 36,
                "profile_image": "https://www.gravatar.com/avatar/020133ee96787b31ca4289c199f30aad?s=256&d=identicon&r=PG",
                "display_name": "cotfessi",
                "link": "https://stackoverflow.com/users/2055767/cotfessi"
            },
            "comment_count": 5,
            "is_answered": false,
            "view_count": 45,
            "answer_count": 2,
            "score": -2,
            "last_activity_date": 1685570817,
            "creation_date": 1685467246,
            "last_edit_date": 1685485367,
            "question_id": 76367195,
            "share_link": "https://stackoverflow.com/q/76367195/14467927",
            "link": "https://stackoverflow.com/questions/76367195/find-population-clusters-in-a-list-in-python",
            "title": "find population clusters in a list in python",
            "body": "<p>I have a algorithm that is spitting out a list of scores:</p>\n<p><code>list_of_scores = [100, 101, 102, 101, 43, 42, 42, 41, 20, 21, 22, 23]</code></p>\n<p>in the above list, there is a 'cluster' of scores around 100, another 'cluster' around 42, and another 'cluster' around 22.</p>\n<p>Score lists will always contain 1 or more clusters.</p>\n<p>I need to summarize the scores by creating a list containing 1 member from each 'cluster' of scores.  the exact median score of the cluster is not important - i just need to have a score (an actual element in the list) from each 'cluster'.</p>\n<p>Anyone have any thoughts on how to accomplish this in python?</p>\n<p>edit:  i won't know the number of potential clusters beforehand or the spread of the cluster itself:</p>\n<ul>\n<li><p>one list may contain 3 clusters of data, another list may contain\nonly 1 cluster in that all of the data may be close to one value.</p>\n</li>\n<li><p>one list may contain 2 clusters, each member of the cluster is within\n+/- 10 around the center point, whereas the other cluster, each member of the cluster may be within +/- 25 of the center point</p>\n</li>\n</ul>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "windows"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1412218,
                        "reputation": 8786,
                        "user_id": 1338588,
                        "user_type": "registered",
                        "accept_rate": 64,
                        "profile_image": "https://i.stack.imgur.com/j4Fva.jpg?s=256&g=1",
                        "display_name": "Kulasangar",
                        "link": "https://stackoverflow.com/users/1338588/kulasangar"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685458429,
                    "post_id": 76365600,
                    "comment_id": 134661054,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76365600/python-mysql-connector-demo-works-on-wsl-but-fails-when-run-from-windows#comment134661054_76365600",
                    "body": "the ping works fine with the 3306 port?"
                },
                {
                    "owner": {
                        "account_id": 2061691,
                        "reputation": 841,
                        "user_id": 1838076,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/oMfSx.jpg?s=256&g=1",
                        "display_name": "Krishna",
                        "link": "https://stackoverflow.com/users/1838076/krishna"
                    },
                    "reply_to_user": {
                        "account_id": 1412218,
                        "reputation": 8786,
                        "user_id": 1338588,
                        "user_type": "registered",
                        "accept_rate": 64,
                        "profile_image": "https://i.stack.imgur.com/j4Fva.jpg?s=256&g=1",
                        "display_name": "Kulasangar",
                        "link": "https://stackoverflow.com/users/1338588/kulasangar"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685458982,
                    "post_id": 76365600,
                    "comment_id": 134661178,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76365600/python-mysql-connector-demo-works-on-wsl-but-fails-when-run-from-windows#comment134661178_76365600",
                    "body": "Yes, it works with the port"
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 2061691,
                        "reputation": 841,
                        "user_id": 1838076,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/oMfSx.jpg?s=256&g=1",
                        "display_name": "Krishna",
                        "link": "https://stackoverflow.com/users/1838076/krishna"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685510137,
                    "creation_date": 1685510137,
                    "answer_id": 76370340,
                    "question_id": 76365600,
                    "content_license": "CC BY-SA 4.0",
                    "title": "Python-MySQL connector demo works on WSL but fails when run from Windows",
                    "body": "<p>Looks like its a bug, I have reported it and waiting for an update <a href=\"https://bugs.mysql.com/bug.php?id=111209\" rel=\"nofollow noreferrer\">here</a></p>\n<p>It works everywhere if I do not specify the Database name in the call to the <code>connect()</code> function.\nBut <strong>fails just on Windows if I specify the Database name</strong> in the call to the <code>connect()</code> function</p>\n"
                }
            ],
            "owner": {
                "account_id": 2061691,
                "reputation": 841,
                "user_id": 1838076,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/oMfSx.jpg?s=256&g=1",
                "display_name": "Krishna",
                "link": "https://stackoverflow.com/users/1838076/krishna"
            },
            "comment_count": 2,
            "is_answered": false,
            "view_count": 43,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1685510137,
            "creation_date": 1685455027,
            "last_edit_date": 1685456576,
            "question_id": 76365600,
            "share_link": "https://stackoverflow.com/q/76365600/14467927",
            "link": "https://stackoverflow.com/questions/76365600/python-mysql-connector-demo-works-on-wsl-but-fails-when-run-from-windows",
            "title": "Python-MySQL connector demo works on WSL but fails when run from Windows",
            "body": "<p>I have a simple demo program trying to demonstrate the connection to MySQL from Python, that works fine on WSL for fails on Windows.</p>\n<p>Here is the sample code</p>\n<pre class=\"lang-py prettyprint-override\"><code>import mysql.connector\n\ncon = mysql.connector.connect(\n    host='mysql-host',\n    user='mysql-user',\n    password='mysql-password',\n    database='myql-db',\n    port=3306,\n    use_pure=True\n)\nprint(con)\ncur = con.cursor()\ncur.execute('SHOW TABLES;')\nfor i in cur.fetchall():\n    print(i)\n\n</code></pre>\n<p>Output on WSL</p>\n<pre><code>&lt;mysql.connector.connection.MySQLConnection object at 0x7fd6cece4790&gt;\n('Table1',)\n('Table2',)\n('Table3',)\n('Table4',)\n...\n('Table5',)\n</code></pre>\n<p>Output on Windows</p>\n<pre><code>&lt;mysql.connector.connection.MySQLConnection object at 0x00000211CF9B5750&gt;\nTraceback (most recent call last):\n  File &quot;C:\\Users\\User\\hello.py&quot;, line 12, in &lt;module&gt;\n    cur = con.cursor()\n          ^^^^^^^^^^^^\n  File &quot;C:\\Users\\User\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\mysql\\connector\\connection.py&quot;, line 1410, in cursor     \n    raise OperationalError(&quot;MySQL Connection not available&quot;)\nmysql.connector.errors.OperationalError: MySQL Connection not available\n</code></pre>\n<p>It also works on Windows with <code>mysqlsh.exe</code></p>\n<pre><code>&gt;mysqlsh.exe mysql://mysql-host:3306 -u mysql-user --sql  \nMySQL Shell 8.0.33\n\nCopyright (c) 2016, 2023, Oracle and/or its affiliates.\nOracle is a registered trademark of Oracle Corporation and/or its affiliates.\nOther names may be trademarks of their respective owners.\n\nType '\\help' or '\\?' for help; '\\quit' to exit.\nCreating a Classic session to 'mysql-user@mysql-host:3306'\nFetching global names for auto-completion... Press ^C to stop.\nYour MySQL connection id is 348624462\nServer version: 5.6.12 Source distribution\nNo default schema selected; type \\use &lt;schema&gt; to set one.\n MySQL  mysql-host:3306  SQL &gt; use mysql-db;\nDefault schema set to `mysql-db`.\nFetching global names, object names from `mysql-db` for auto-completion... Press ^C to stop.\n MySQL  mysql-host:3306  mysql-db SQL &gt; show tables;\n+----------------------+\n| Tables_in_mysql-db   |\n+----------------------+\n| Table1               |\n| ...                  |\n+----------------------+\n10 rows in set (0.8742 sec)\n</code></pre>\n<p>Ping to the <code>mysql-host</code> works fine on both. Looking for clues on what else might be wrong?</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "json"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 5381866,
                        "reputation": 8233,
                        "user_id": 4286884,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "profile_image": "https://www.gravatar.com/avatar/b42d6e50c8eb2d349807cc0a7beae49b?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "SelVazi",
                        "link": "https://stackoverflow.com/users/4286884/selvazi"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685436631,
                    "post_id": 76363107,
                    "comment_id": 134655828,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76363107/is-there-a-better-way-to-insert-json-data-into-a-mysql-table-using-python#comment134655828_76363107",
                    "body": "Please edit your question and use english only"
                },
                {
                    "owner": {
                        "account_id": 6767185,
                        "reputation": 17727,
                        "user_id": 5211833,
                        "user_type": "registered",
                        "accept_rate": 83,
                        "profile_image": "https://i.stack.imgur.com/Pyme2.jpg?s=256&g=1",
                        "display_name": "Adriaan",
                        "link": "https://stackoverflow.com/users/5211833/adriaan"
                    },
                    "reply_to_user": {
                        "account_id": 5381866,
                        "reputation": 8233,
                        "user_id": 4286884,
                        "user_type": "registered",
                        "accept_rate": 50,
                        "profile_image": "https://www.gravatar.com/avatar/b42d6e50c8eb2d349807cc0a7beae49b?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "SelVazi",
                        "link": "https://stackoverflow.com/users/4286884/selvazi"
                    },
                    "edited": false,
                    "score": 2,
                    "post_type": "question",
                    "creation_date": 1685436759,
                    "post_id": 76363107,
                    "comment_id": 134655866,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76363107/is-there-a-better-way-to-insert-json-data-into-a-mysql-table-using-python#comment134655866_76363107",
                    "body": "@SelVazi rather than just adding the comment, please also use your close vote privilege to close it for not being in English."
                }
            ],
            "owner": {
                "account_id": 28708525,
                "reputation": 1,
                "user_id": 21984444,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/10167576215350150/picture?type=large",
                "display_name": "Roberto Sgueglia",
                "link": "https://stackoverflow.com/users/21984444/roberto-sgueglia"
            },
            "comment_count": 2,
            "is_answered": false,
            "view_count": 24,
            "closed_date": 1685436772,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1685436601,
            "creation_date": 1685436477,
            "last_edit_date": 1685436601,
            "question_id": 76363107,
            "share_link": "https://stackoverflow.com/q/76363107/14467927",
            "link": "https://stackoverflow.com/questions/76363107/is-there-a-better-way-to-insert-json-data-into-a-mysql-table-using-python",
            "closed_reason": "Not suitable for this site",
            "title": "Is there a better way to insert JSON data into a MySQL table using Python?",
            "body": "<pre><code>[\n    {\n    &quot;Codice_Cliente&quot;: 39,\n    &quot;Marca&quot;:&quot;CLN&quot;,\n    &quot;Articolo&quot;:&quot;DA990&quot;,\n    &quot;Quantita_Ordine&quot;: 2\n    },\n    {\n    &quot;Codice_Cliente&quot;: 39,\n    &quot;Marca&quot;:&quot;CLN&quot;,\n    &quot;Articolo&quot;:&quot;DA991&quot;,\n    &quot;Quantita_Ordine&quot;: 20\n    }\n]\n</code></pre>\n<p>ho questo json da una richiesta con metodo &quot;POST&quot; tramite endpoint. Come posso inserire i dati in una tabella mysql con python ?\nIo ho questo codice ma fornisce errore:</p>\n<pre><code>@app.route('/create_order', methods=['POST'])\ndef create_order():\n     try:\n          cursor=conexion.connection.cursor()\n          sql = &quot;&quot;&quot;INSERT INTO order(Codice_Cliente, Marca, Articolo, Quantita_Ordine) \n          VALUES ({0}, '{1}', '{2}' , {3})&quot;&quot;&quot;.format(request.json['Codice_Cliente'],request.json['Marca'],request.json['Articolo'], request.json['Quantita_Ordine'])\n          cursor.execute(sql)\n          conexion.connection.commit()\nreturn jsonify({'Esito' : &quot;Ordine Registrato Con Successo&quot;})\n      except Exception as err:\n          return jsonify({'errore' : &quot;error&quot;})\n</code></pre>\n<p>ho provato anche con json.loads, ma sempre lo stesso problema</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "mysql-python",
                "mysql-connector",
                "mysql-connector-python"
            ],
            "owner": {
                "account_id": 28705758,
                "reputation": 1,
                "user_id": 21982132,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AAcHTtcK8NRAwUuXgbn9nMoKVWCVupPb4Iol6dU0Tbao=k-s256",
                "display_name": "HanzoSwitch",
                "link": "https://stackoverflow.com/users/21982132/hanzoswitch"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 7,
            "closed_date": 1685401350,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685399764,
            "creation_date": 1685399764,
            "question_id": 76360663,
            "share_link": "https://stackoverflow.com/q/76360663/14467927",
            "link": "https://stackoverflow.com/questions/76360663/python-mysql-connector-caching-sha2-password-authentication-plugin-not-suppor",
            "closed_reason": "Duplicate",
            "title": "Python MySQL Connector: &#39;caching_sha2_password&#39; authentication plugin not supported",
            "body": "<p>That is the exact error:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;D:\\Programming projects\\Project.py&quot;, line 3, in &lt;module&gt;\n    db = mysql.connector.connect(\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\__init__.py&quot;, line 179, in connect\n    return MySQLConnection(*args, **kwargs)\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\connection.py&quot;, line 95, in __init__\n    self.connect(**kwargs)\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\abstracts.py&quot;, line 716, in connect\n    self._open_connection()\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\connection.py&quot;, line 208, in _open_connection\n    self._do_auth(self._user, self._password,\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\connection.py&quot;, line 137, in _do_auth\n    packet = self._protocol.make_auth(\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\protocol.py&quot;, line 99, in make_auth\n    packet += self._auth_response(client_flags, username, password,\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\protocol.py&quot;, line 58, in _auth_response\n    auth = get_auth_plugin(auth_plugin)(\n  File &quot;C:\\Users\\BboyM\\venv\\lib\\site-packages\\mysql\\connector\\authentication.py&quot;, line 190, in get_auth_plugin\n    raise errors.NotSupportedError(\nmysql.connector.errors.NotSupportedError: Authentication plugin 'caching_sha2_password' is not supported\n\nProcess finished with exit code 1\n</code></pre>\n<p>That is the code for now, can't even start doing anything because I can't connect.</p>\n<pre><code>import mysql.connector\ndb = mysql.connector.connect(\n    host=(&quot;localhost&quot;),\n    user=(&quot;root&quot;),\n    passwd=(&quot;0QDeaWSzcXfgH0&quot;),\n)\n</code></pre>\n<p>I've tried reinstalling the connector plugins in pip, in Pycharm and changing the authentication method to legacy and nothing seems to work. I'm desperate for help because I can't find the solution that works anywhere. I even downloaded conda and tried instaling the connector with it instead of pip but that didn't help either.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "stored-procedures",
                "sqlalchemy"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 6156261,
                        "reputation": 12524,
                        "user_id": 4799172,
                        "user_type": "registered",
                        "accept_rate": 94,
                        "profile_image": "https://i.stack.imgur.com/6VQlo.jpg?s=256&g=1",
                        "display_name": "roganjosh",
                        "link": "https://stackoverflow.com/users/4799172/roganjosh"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685302981,
                    "post_id": 76353265,
                    "comment_id": 134639464,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76353265/sqlalchemy-call-mysql-procedure-to-read-the-multiple-results#comment134639464_76353265",
                    "body": "I would suspect it might be something to do with <code>async</code> here. But, you&#39;d get a whole lot more info if you <code>import traceback</code> and then use <code>print(traceback.format_exc())</code> inside the exception, rather than just <code>print(e)</code>"
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 2320055,
                        "reputation": 5783,
                        "user_id": 2036070,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/WSLZ4.jpg?s=256&g=1",
                        "display_name": "Ian Wilson",
                        "link": "https://stackoverflow.com/users/2036070/ian-wilson"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1685417941,
                    "creation_date": 1685417941,
                    "answer_id": 76361476,
                    "question_id": 76353265,
                    "content_license": "CC BY-SA 4.0",
                    "title": "sqlalchemy call mysql procedure to read the multiple results",
                    "body": "<p>I don't use <code>mysql</code> but I think you need to declare <code>OUT</code> variables.</p>\n<p>Then seems like you could use a join to return the result from a single query.</p>\n<p>Maybe like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE DEFINER=`test`@`%` PROCEDURE `data`.`create_user`(\n    IN p_account VARCHAR(255),\n    OUT user_id BIGINT UNSIGNED,\n    OUT account VARCHAR(255),\n    OUT created_name VARCHAR(255)\n)\n...\nSELECT data.user_info.user_id, data.user_info.account, data.user_info.user_setting.created_name INTO user_id, account, created_name FROM data.user_info JOIN data.user_setting ON data.user_info.user_id = data.user_setting WHERE data.user_info.user_id = v_user_id;\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 12800181,
                "reputation": 351,
                "user_id": 9261745,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/ef6fac4a99d3b8f6f0e86045807dfcec?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Youshikyou",
                "link": "https://stackoverflow.com/users/9261745/youshikyou"
            },
            "comment_count": 1,
            "is_answered": false,
            "view_count": 35,
            "answer_count": 1,
            "score": 1,
            "last_activity_date": 1685417941,
            "creation_date": 1685302067,
            "question_id": 76353265,
            "share_link": "https://stackoverflow.com/q/76353265/14467927",
            "link": "https://stackoverflow.com/questions/76353265/sqlalchemy-call-mysql-procedure-to-read-the-multiple-results",
            "title": "sqlalchemy call mysql procedure to read the multiple results",
            "body": "<p>I am trying to get the multiple results from procedure in mysql by using sqlalchemy in python.</p>\n<pre><code>async def create_user(db: AsyncSession, user: UserInfo):\n    try:\n        result_proxy = await db.execute(\n            text(&quot;CALL create_user(:account)&quot;), \n            {\n                &quot;account&quot;: user.account\n            }\n        )\n        logging.info(&quot;result_proxy: %s&quot;, result_proxy)\n        # Fetch the first result set\n        db_user = result_proxy.fetchone()\n\n        logging.info(&quot;db_user: %s&quot;, db_user)\n        \n        # Move to the next result set\n        if result_proxy.nextset():\n            # Fetch the second result set\n            db_user_setting = result_proxy.fetchone()\n            logging.info(&quot;db_user_setting: %s&quot;, db_user_setting)\n        else:\n            db_user_setting = None\n\n    except SQLAlchemyError as e:\n        logging.error(&quot;Error creating user: %s&quot;, e)\n        await db.rollback()\n        raise HTTPException(status_code=500, detail=&quot;Database creating user failed.&quot;)\n\n    return db_user, db_user_setting\n</code></pre>\n<p>mysql procedure code is</p>\n<pre><code>CREATE DEFINER=`test`@`%` PROCEDURE `data`.`create_user`(\n    IN p_account VARCHAR(255)\n)\nBEGIN\n    DECLARE v_user_id VARCHAR(255);\n \n    DECLARE EXIT HANDLER FOR SQLEXCEPTION\n    BEGIN\n        -- Rollback the transaction in case of an error\n        ROLLBACK;\n    END;\n\n    SET v_user_id = UUID_SHORT();\n       \n    START TRANSACTION;\n    \n    INSERT INTO data.user_info (\n        account,\n        user_id\n    )\n    VALUES(\n        p_account,\n        v_user_id\n    );\n\n    INSERT INTO data.user_setting (\n        user_id,\n        created_name\n    )\n    VALUES(\n        v_user_id,\n        'Javis'\n    );\n    \n    COMMIT;\n   \n    -- Select the newly created records to return them as a result set\n    SELECT * FROM data.user_info WHERE user_id = v_user_id;\n    SELECT * FROM data.user_setting  WHERE user_id = v_user_id;\n   \nEND\n</code></pre>\n<p>I don't know why I got <code>Error creating user: This result object does not return rows. It has been closed automatically.</code> I run the procedure in the mysql script, it can create the row in the tables successfully.\nWould you mind giving me some advices?</p>\n<p>Best regards</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "jenkins"
            ],
            "owner": {
                "account_id": 24859664,
                "reputation": 1,
                "user_id": 18735595,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/7b694731bb57c441ae78aecd0359a151?s=256&d=identicon&r=PG",
                "display_name": "Alexandr Savitsky",
                "link": "https://stackoverflow.com/users/18735595/alexandr-savitsky"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 8,
            "closed_date": 1685288823,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685290938,
            "creation_date": 1685286729,
            "last_edit_date": 1685290938,
            "question_id": 76352149,
            "share_link": "https://stackoverflow.com/q/76352149/14467927",
            "link": "https://stackoverflow.com/questions/76352149/why-cant-my-jenkins-pipeline-connect-to-mysql-localhostwindows-os",
            "closed_reason": "Duplicate",
            "title": "Why can&#39;t my jenkins pipeline connect to mysql localhost(windows os)?",
            "body": "<p>I have a Jenkins pipeline that utilizes unit tests in my project. I am using a MySQL database, but I encountered the following error:</p>\n<p>mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '127.0.0.1:3306' (111)</p>\n<p>I'm unsure how to configure my local host database on windows for this pipeline.</p>\n<p>Please, could you help me?</p>\n<p>Jenkins file</p>\n<pre><code>pipeline {\n    agent {\n        docker {\n            image 'python:3.8.7'\n            args '-u root'\n        }\n    }\n    stages {\n        stage('Checkout') {\n            steps {\n                checkout scm\n            }\n        }\n        stage('Install dependencies') {\n            steps {\n                sh 'pip install -r requirements.txt'\n            }\n        }\n        stage('Run tests') {\n            steps {\n                sh 'python -m unittest discover -s tests'\n            }\n        }\n.....\n</code></pre>\n<p>db.py file (where the database configurations)</p>\n<pre><code>class Db:\n    def __init__(self):\n        # Connect to the MySQL database\n        load_dotenv()\n        host, user, password, database = os.getenv('HOST'), os.getenv('USER'), os.getenv('PASSWORD'), os.getenv(\n            'DATABASE')\n\n        self.mydb = mysql.connector.connect(\n            host=host,\n            user=user,\n            password=password,\n            database=database\n        )\n        lg.info('db connect great success')\n        self.cursor = self.mydb.cursor()\n</code></pre>\n<p>I tried to modify the my.ini file, restart the server, and build the Jenkins file that only connects to the MySQL server.</p>\n"
        },
        {
            "tags": [
                "python",
                "sql",
                "mysql",
                "sql-injection",
                "code-injection"
            ],
            "owner": {
                "account_id": 27746054,
                "reputation": 1,
                "user_id": 21181535,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AEdFTp5ZUbkFFzjj1enZQoV22f8r1_n2eEwgkQZbmTlx=k-s256",
                "display_name": "BRN",
                "link": "https://stackoverflow.com/users/21181535/brn"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 15,
            "closed_date": 1685203521,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685203438,
            "creation_date": 1685203438,
            "question_id": 76347782,
            "share_link": "https://stackoverflow.com/q/76347782/14467927",
            "link": "https://stackoverflow.com/questions/76347782/what-are-some-effective-strategies-for-mitigating-sql-injection-attacks-in-pytho",
            "closed_reason": "Duplicate",
            "title": "What are some effective strategies for mitigating SQL injection attacks in Python?",
            "body": "<p>My current code is testing a SQL injection mitigation test cases using python. The code posted is only a small section of the entire project. The purpose of this code is to test different methods of mitigating SQL injection attacks. However, I would like to know how I can make the code better.</p>\n<pre><code>def test_comments():\n    username = &quot;Safeguard1234&quot;\n    password = &quot;Myspace1234'; INSERT INTO passwordList(name, passwd) VALUES 'myspace1234', 'nine&quot;\n\n    sql = gen_query(username, password)\n    print(sql)\n\n    sql = gen_query_weak(username, password)\n    print(&quot;Weak Mitigated SQL: &quot; + sql)\n    sql = gen_query_strong(username, password)\n    print(&quot;Strong Mitigated SQL: &quot; + sql)\n\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "sql",
                "mysql"
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 8386526,
                        "reputation": 5237,
                        "user_id": 6296759,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/5460cfb010daca5ea9644e0c92e84d5e?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "nacho",
                        "link": "https://stackoverflow.com/users/6296759/nacho"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1685120886,
                    "creation_date": 1685120886,
                    "answer_id": 76342978,
                    "question_id": 76342107,
                    "content_license": "CC BY-SA 4.0",
                    "title": "What does &#39;Truncated incorrect DOUBLE value&#39; error mean in MySQL Connector with Python and how do I fix it?",
                    "body": "<p>You have wrong order in your data:</p>\n<pre><code>def update function(emp_id, emp_name, emp_last_name, emp_email, emp_status):\n    emp_data = mysqlconn.cursor()\n    sql_update_query = &quot;UPDATE employee set emp_name = %s, emp_last_name = %s, emp_email = %s, emp_status = %s WHERE emp_id = %s&quot;\n    updated_data = ( emp_name, emp_last_name, emp_email, emp_status, emp_id)\n    emp_data.execute(sql_update_query,updated_data)\n    mysqlconn.commit()\n    print(&quot;Data Updated&quot;)\n</code></pre>\n<p>The placeholder for emp_id is the last one, but you have your value in first position, so you need to change it. Also I removed some brackets not needed and some comma</p>\n"
                }
            ],
            "owner": {
                "account_id": 11460695,
                "reputation": 9,
                "user_id": 8400433,
                "user_type": "registered",
                "profile_image": "https://graph.facebook.com/1281838771941533/picture?type=large",
                "display_name": "Kais Al Kaisy",
                "link": "https://stackoverflow.com/users/8400433/kais-al-kaisy"
            },
            "comment_count": 0,
            "is_answered": true,
            "view_count": 32,
            "closed_date": 1685180224,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1685139972,
            "creation_date": 1685114055,
            "last_edit_date": 1685139972,
            "question_id": 76342107,
            "share_link": "https://stackoverflow.com/q/76342107/14467927",
            "link": "https://stackoverflow.com/questions/76342107/what-does-truncated-incorrect-double-value-error-mean-in-mysql-connector-with",
            "closed_reason": "Not suitable for this site",
            "title": "What does &#39;Truncated incorrect DOUBLE value&#39; error mean in MySQL Connector with Python and how do I fix it?",
            "body": "<p>First ERROR message:</p>\n<pre><code>mysql.connector.errors.DataError: 1292 (22007): Truncated incorrect DOUBLE value:\n\n\\----------------------------------------------------------------------------------------------\n</code></pre>\n<p>I have tried several times to find a solution online and have seen other users who have had the same problem.</p>\n<p>Unfortunately, it hasn't solved my problem yet.\nI've Googled to find a solution similar to my problem and that hasn't helped either.</p>\n<p>Okay, the problem is that I keep getting errors from pycharm which are as follows</p>\n<pre><code>mysql.connector.errors.DataError: 1292 (22007): Truncated incorrect DOUBLE value:\n</code></pre>\n<p>What does this mean specifically?</p>\n<p>Is there something wrong with my database?</p>\n<p>What is it?</p>\n<p>Here is my table that I have created:</p>\n<pre><code>CREATE TABLE `employee` (\n    `emp_id` INTEGER NOT NULL,\n    `emp_name` VARCHAR (17) NOT NULL,\n    `emp_last_name` VARCHAR (17) NOT NULL,\n    `emp_email` VARCHAR (17) NOT NULL,\n    `emp_status` VARCHAR (17) NOT NULL,\n    PRIMARY KEY (`emp_id`)\n);\n</code></pre>\n<p>And I want to update a user with python.</p>\n<p>The coding is as follows:</p>\n<pre><code>def update function(emp_id, emp_name, emp_last_name, emp_email, emp_status):\n    emp_data = mysqlconn.cursor()\n    sql_update_query = (&quot;UPDATE employee set emp_name = %s, emp_last_name = %s, emp_email = %s, emp_status = %s WHERE emp_id = %s&quot;)\n    updated_data = (emp_id, emp_name, emp_last_name, emp_email, emp_status)\n    emp_data.execute(sql_update_query,updated_data,)\n    mysqlconn.commit()\n    print(&quot;Data Updated&quot;)\n</code></pre>\n<p>I don't see any syntax errors.</p>\n<ul>\n<li><p>Have seen other solutions on Stackoverflow that are similar to my problem.</p>\n<p>Have Googled my way with the Error coding.</p>\n<p>Changed my table on mysql.</p>\n</li>\n</ul>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "pyinstaller",
                "importerror"
            ],
            "owner": {
                "account_id": 22086227,
                "reputation": 1,
                "user_id": 16345034,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/37164ac41e2fb449ff3f485491a06afa?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Hatim Neral",
                "link": "https://stackoverflow.com/users/16345034/hatim-neral"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 11,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1685082859,
            "creation_date": 1685082859,
            "question_id": 76338190,
            "share_link": "https://stackoverflow.com/q/76338190/14467927",
            "link": "https://stackoverflow.com/questions/76338190/pyinstaller-and-cloud-are-having-some-problem",
            "title": "pyinstaller and cloud are having some problem",
            "body": "<p>i have a python file and I want to convert it to .exe file, I've used mysql.connector module also to connect python and mysql. but for some reason after compiling the file and converting it to .exe file with pyinstaller I get this error:-\n&quot;ImportError: No localization support for language 'eng'&quot;\nI've attached a ss also of the whole error\nanyone can please help me in this\nit shows that there is a mysql import error\nthankyou</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "connection"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1613587,
                        "reputation": 731318,
                        "user_id": 1491895,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=256&d=identicon&r=PG",
                        "display_name": "Barmar",
                        "link": "https://stackoverflow.com/users/1491895/barmar"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685036202,
                    "post_id": 76334908,
                    "comment_id": 134608756,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134608756_76334908",
                    "body": "Then you haven&#39;t installed mysql connector properly."
                },
                {
                    "owner": {
                        "account_id": 15068871,
                        "reputation": 76,
                        "user_id": 10875076,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/36a95bfb47b59f68f1a38ea3bbb6fd15?s=256&d=identicon&r=PG",
                        "display_name": "Jish",
                        "link": "https://stackoverflow.com/users/10875076/jish"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685071185,
                    "post_id": 76334908,
                    "comment_id": 134613124,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134613124_76334908",
                    "body": "Install mysql connector properly, <code>pip install mysql-connector-python</code>"
                },
                {
                    "owner": {
                        "account_id": -1,
                        "reputation": 1,
                        "user_id": -1,
                        "user_type": "moderator",
                        "profile_image": "https://www.gravatar.com/avatar/a007be5a61f6aa8f3e85ae2fc18dd66e?s=256&d=identicon&r=PG",
                        "display_name": "Community",
                        "link": "https://stackoverflow.com/users/-1/community"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685075101,
                    "post_id": 76334908,
                    "comment_id": 134613430,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134613430_76334908",
                    "body": "Please provide enough code so others can better understand or reproduce the problem."
                },
                {
                    "owner": {
                        "account_id": 25746969,
                        "reputation": 1,
                        "user_id": 19500045,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/3b4b65a56b6f7c11508596a92159a183?s=256&d=identicon&r=PG",
                        "display_name": "Anaveer",
                        "link": "https://stackoverflow.com/users/19500045/anaveer"
                    },
                    "reply_to_user": {
                        "account_id": 15068871,
                        "reputation": 76,
                        "user_id": 10875076,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/36a95bfb47b59f68f1a38ea3bbb6fd15?s=256&d=identicon&r=PG",
                        "display_name": "Jish",
                        "link": "https://stackoverflow.com/users/10875076/jish"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685076961,
                    "post_id": 76334908,
                    "comment_id": 134613614,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134613614_76334908",
                    "body": "@Jish I ran that command but it didn&#39;t work"
                },
                {
                    "owner": {
                        "account_id": 15068871,
                        "reputation": 76,
                        "user_id": 10875076,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/36a95bfb47b59f68f1a38ea3bbb6fd15?s=256&d=identicon&r=PG",
                        "display_name": "Jish",
                        "link": "https://stackoverflow.com/users/10875076/jish"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685077332,
                    "post_id": 76334908,
                    "comment_id": 134613662,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134613662_76334908",
                    "body": "What is the error you are getting when run the <code>pip install</code> command?"
                },
                {
                    "owner": {
                        "account_id": 4632159,
                        "reputation": 66,
                        "user_id": 3754390,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/2c47008d5f28398d43a3ca995c21c7d9?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "jwill",
                        "link": "https://stackoverflow.com/users/3754390/jwill"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685710677,
                    "post_id": 76334908,
                    "comment_id": 134703103,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python#comment134703103_76334908",
                    "body": "Can you go to the terminal and input <code>pip list</code> &amp; show us the results?"
                }
            ],
            "owner": {
                "account_id": 25746969,
                "reputation": 1,
                "user_id": 19500045,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/3b4b65a56b6f7c11508596a92159a183?s=256&d=identicon&r=PG",
                "display_name": "Anaveer",
                "link": "https://stackoverflow.com/users/19500045/anaveer"
            },
            "comment_count": 6,
            "is_answered": false,
            "view_count": 18,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685041256,
            "creation_date": 1685035802,
            "last_edit_date": 1685041256,
            "question_id": 76334908,
            "share_link": "https://stackoverflow.com/q/76334908/14467927",
            "link": "https://stackoverflow.com/questions/76334908/database-connection-error-while-connecting-mysql-through-python",
            "title": "Database Connection error while connecting MySQL through Python",
            "body": "<pre><code>import mysql.connector\n</code></pre>\n<blockquote>\n<p>ModuleNotFoundError: No module named 'mysql'</p>\n</blockquote>\n<p>No matter how many commands I fire, it is still showing this error and I have not named my file as mysql.py</p>\n<p>Please tell me which version I need to install</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "frameworks"
            ],
            "owner": {
                "account_id": 26975427,
                "reputation": 1,
                "user_id": 20540744,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/8ba6393582f673de93dcf0760b2cbf04?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Berk Yavuz",
                "link": "https://stackoverflow.com/users/20540744/berk-yavuz"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 18,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1685017376,
            "creation_date": 1685015572,
            "last_edit_date": 1685017376,
            "question_id": 76331968,
            "share_link": "https://stackoverflow.com/q/76331968/14467927",
            "link": "https://stackoverflow.com/questions/76331968/python-mysql-connector-framework-mysql-connector-integrityerror",
            "title": "Python mysql.connector framework mysql.connector.IntegrityError",
            "body": "<pre><code>def register(self,kuladi,sifre):\n        self.mydb = mysql.connector.connect(host=&quot;localhost&quot;, user=&quot;root&quot;, password=&quot;berk1907&quot;, database=&quot;kivy_user_db&quot;)\n        self.cursor = self.mydb.cursor()\n\n        sql = &quot;INSERT INTO users(name,password) VALUES (%s, %s)&quot;\n\n        self.controlled = True\n        self.controlled = self.controlname(kuladi)\n\n        values = (str(kuladi),str(sifre))\n        self.cursor.execute(sql, values)\n\n        try:\n            if kuladi is not None and sifre is not None and self.controlled == True:\n                self.mydb.commit()\n            elif self.controlled == False:\n                return print(&quot;Zaten Var Olan Kullanc.&quot;)\n        except Exception as Ex:\n            print(Ex)\n            pass\n        finally:\n            self.mydb.close()\n</code></pre>\n<p>it's my func i get this error but i just wanna a print(&quot;Zaten Var Olan Kullanc&quot;)</p>\n<pre><code>   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\mysql\\connector\\connection_cext.py&quot;, line 611, in cmd_query\n     self._cmysql.query(\n _mysql_connector.MySQLInterfaceError: Duplicate entry 'berk' for key 'users.name_UNIQUE'\n\n The above exception was the direct cause of the following exception:\n\n Traceback (most recent call last):\n   File &quot;c:\\Users\\beek6\\PycharmProjects\\Kivy\\kivyapp\\main.py&quot;, line 72, in &lt;module&gt;\n     Window().run()\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\app.py&quot;, line 956, in run\n     runTouchApp()\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\base.py&quot;, line 574, in runTouchApp       \n     EventLoop.mainloop()\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\base.py&quot;, line 339, in mainloop\n     self.idle()\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\base.py&quot;, line 383, in idle\n     self.dispatch_input()\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\base.py&quot;, line 334, in dispatch_input    \n     post_dispatch_input(*pop(0))\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\base.py&quot;, line 302, in post_dispatch_input\n     wid.dispatch('on_touch_up', me)\n   File &quot;kivy\\_event.pyx&quot;, line 731, in kivy._event.EventDispatcher.dispatch\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\uix\\behaviors\\button.py&quot;, line 179, in on_touch_up\n     self.dispatch('on_release')\n   File &quot;kivy\\_event.pyx&quot;, line 727, in kivy._event.EventDispatcher.dispatch\n   File &quot;kivy\\_event.pyx&quot;, line 1307, in kivy._event.EventObservers.dispatch\n   File &quot;kivy\\_event.pyx&quot;, line 1191, in kivy._event.EventObservers._dispatch\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\kivy\\lang\\builder.py&quot;, line 55, in custom_callback\n     exec(__kvlang__.co_value, idmap)\n   File &quot;c:\\Users\\beek6\\PycharmProjects\\Kivy\\kivyapp\\main.kv&quot;, line 32, in &lt;module&gt;\n     on_release: app.register(username_input.text, password_input.text)\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n   File &quot;c:\\Users\\beek6\\PycharmProjects\\Kivy\\kivyapp\\main.py&quot;, line 42, in register\n     self.cursor.execute(sql, values)\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\mysql\\connector\\cursor_cext.py&quot;, line 330, in execute\n     result = self._cnx.cmd_query(\n              ^^^^^^^^^^^^^^^^^^^^\n   File &quot;C:\\Users\\beek6\\AppData\\Local\\Programs\\Python\\Python311\\Lib\\site-packages\\mysql\\connector\\connection_cext.py&quot;, line 619, in cmd_query\n     raise get_mysql_exception(\n mysql.connector.errors.IntegrityError: 1062 (23000): Duplicate entry 'berk' for key 'users.name_UNIQUE'\n</code></pre>\n<p>But i get this error everytime.\nI tried except mysql.connector.errors.IntegrityError: but doesn't work.\nWhat can i do for just call a print(&quot;Message&quot;) or don't close program.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "django",
                "django-rest-framework"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 333224,
                        "reputation": 3526,
                        "user_id": 658976,
                        "user_type": "registered",
                        "accept_rate": 59,
                        "profile_image": "https://www.gravatar.com/avatar/ad74977c8f5c5f15827a37a69afcd3f8?s=256&d=identicon&r=PG",
                        "display_name": "Jisson",
                        "link": "https://stackoverflow.com/users/658976/jisson"
                    },
                    "edited": false,
                    "score": 2,
                    "post_type": "question",
                    "creation_date": 1684994354,
                    "post_id": 76329033,
                    "comment_id": 134599269,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76329033/experience-auto-increment-according-to-doj#comment134599269_76329033",
                    "body": "add a model function to calculate the experience, please post your model code to get better help, <a href=\"https://stackoverflow.com/questions/33307855/when-are-model-methods-called-in-django\" title=\"when are model methods called in django\">stackoverflow.com/questions/33307855/&hellip;</a>"
                }
            ],
            "owner": {
                "account_id": 28407323,
                "reputation": 1,
                "user_id": 21731162,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/989ef71ea7d79645a47480238257c09c?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Bhargav",
                "link": "https://stackoverflow.com/users/21731162/bhargav"
            },
            "comment_count": 1,
            "is_answered": false,
            "view_count": 22,
            "closed_date": 1685693159,
            "answer_count": 0,
            "score": -2,
            "last_activity_date": 1684990351,
            "creation_date": 1684990351,
            "question_id": 76329033,
            "share_link": "https://stackoverflow.com/q/76329033/14467927",
            "link": "https://stackoverflow.com/questions/76329033/experience-auto-increment-according-to-doj",
            "closed_reason": "Needs details or clarity",
            "title": "Experience auto increment according to DOJ",
            "body": "<p>I have DOJ (Date of Joining) in my Django models and also i have Experience field in my models so according to my DOJ my experience should change daily automatically.\nThis should be done in Django Could anyone please help me on this\nThanks in advance</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "sqlalchemy",
                "foreign-keys"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 4094210,
                        "reputation": 5997,
                        "user_id": 3361462,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/ed5fe4ce9c6baef0f49fce12f6448fc9?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "kosciej16",
                        "link": "https://stackoverflow.com/users/3361462/kosciej16"
                    },
                    "edited": false,
                    "score": 1,
                    "post_type": "question",
                    "creation_date": 1684931197,
                    "post_id": 76323458,
                    "comment_id": 134589165,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76323458/foreign-key-in-one-table-has-a-null-value-for-the-id-of-the-other-table#comment134589165_76323458",
                    "body": "What apartment id would you expect? You don&#39;t assign any in your code."
                },
                {
                    "owner": {
                        "account_id": 4151902,
                        "reputation": 14767,
                        "user_id": 3404097,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/ec24a4fbe284c5379ba108a58a13fe8f?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "philipxy",
                        "link": "https://stackoverflow.com/users/3404097/philipxy"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684934865,
                    "post_id": 76323458,
                    "comment_id": 134590188,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76323458/foreign-key-in-one-table-has-a-null-value-for-the-id-of-the-other-table#comment134590188_76323458",
                    "body": "Debug questions require a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>--cut &amp; paste &amp; runnable code including initialization; desired &amp; actual output (including verbatim error messages); tags &amp; versions; clear specification &amp; explanation. For SQL include DDL &amp; tabular initialization code. For debug that includes the least code you can give that is code that you show is OK extended by code that you show is not OK. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> <a href=\"https://stackoverflow.com/help\">Help center</a> When you get a result you don&#39;t expect, pause your overall goal, chop to the 1st subexpression with unexpected result &amp; say what you expected &amp; why, justified by documentation. (Debugging fundamental.)"
                },
                {
                    "owner": {
                        "account_id": 28670309,
                        "reputation": 1,
                        "user_id": 21953500,
                        "user_type": "registered",
                        "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxbAvY6aa2uGMafasoTHqU5wmzPPDrxTxtfLKA8J=k-s256",
                        "display_name": "Valentin",
                        "link": "https://stackoverflow.com/users/21953500/valentin"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1685017327,
                    "post_id": 76323458,
                    "comment_id": 134603995,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76323458/foreign-key-in-one-table-has-a-null-value-for-the-id-of-the-other-table#comment134603995_76323458",
                    "body": "I have fixed my problem by adding session.commit() in the <code>get_table_informations</code>, without commiting the FK, the foreign key wasn&#39;t taken account."
                }
            ],
            "owner": {
                "account_id": 28670309,
                "reputation": 1,
                "user_id": 21953500,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxbAvY6aa2uGMafasoTHqU5wmzPPDrxTxtfLKA8J=k-s256",
                "display_name": "Valentin",
                "link": "https://stackoverflow.com/users/21953500/valentin"
            },
            "comment_count": 3,
            "is_answered": false,
            "view_count": 42,
            "answer_count": 0,
            "score": -1,
            "last_activity_date": 1684934810,
            "creation_date": 1684930721,
            "last_edit_date": 1684934810,
            "question_id": 76323458,
            "share_link": "https://stackoverflow.com/q/76323458/14467927",
            "link": "https://stackoverflow.com/questions/76323458/foreign-key-in-one-table-has-a-null-value-for-the-id-of-the-other-table",
            "title": "foreign key in one table has a NULL value for the ID of the other table",
            "body": "<p>The foreign key ('flat_id') in the <code>Pictures</code> table has a NULL value for the ID of the <code>Appartment</code> table. I'm working with SqlAlchemy and MySQL.</p>\n<p>What resolves this problem and ensures that the foreign key is properly associated with the ID of <code>Appartment</code>?</p>\n<p>My tables:</p>\n<pre><code>from sqlalchemy import Column, Integer, String, Text, ForeignKey, Float, create_engine, DateTime\nfrom sqlalchemy.orm import relationship, declarative_base, Mapped\n\nBase = declarative_base()\n\nclass Appartment(Base):\n    __tablename__ = 'appartment'\n\n    id = Column(Integer, primary_key=True, autoincrement=True)\n    name = Column(String(255))\n    price = Column(Integer)\n    ref = Column(String(20))\n    description = Column(Text)\n    square_meter = Column(Float)\n    address = Column(String(255))\n    postal_code = Column(Integer)\n    url = Column(String(255))\n    agency = Column(String(255))\n    phonenumber = Column(String(20))\n    created_at = Column(DateTime)\n    picture_table = relationship(&quot;Pictures&quot;, back_populates=&quot;appart_table&quot;, cascade=&quot;all, delete&quot;)\n\nclass Pictures(Base):\n    __tablename__ = 'pictures'\n\n    id = Column(Integer, primary_key=True)\n    flat_id = Column(Integer, ForeignKey('appartment.id', onupdate='CASCADE', ondelete='CASCADE'))\n    URL_picture = Column(Text)\n    appart_table = relationship(&quot;Appartment&quot;, back_populates=&quot;picture_table&quot;)\n</code></pre>\n<p>How I add scraped elements to my database:</p>\n<pre><code>def get_table_informations(url, session, pageHTML):\n    &quot;&quot;&quot; Get flat informations &quot;&quot;&quot;\n\n    ###\n    ... scrap code\n    ###\n\n    appart_table = Appartment(name=Name, description=Description, price=Price, ref=Ref, square_meter=Square_meter, address=address, postal_code=postalcode, url=url, agency=agence, phonenumber=PhoneNumber, created_at=created_at)\n    session.add(appart_table)\n    get_table_picture(url, session, pageHTML, appart_table)    \n\ndef get_table_picture(url, session, pageHTML, appart_table):\n    &quot;&quot;&quot; Get all pictures&quot;&quot;&quot;\n\n    ###\n    ... scrap code\n    ###\n\n    table_picture = Pictures(URL_picture=json.dumps(JSONpicture))\n    session.add(table_picture)\n\ndef get_allTables():\n    &quot;&quot;&quot; Scrap all information of all Flats &quot;&quot;&quot;\n    all_urlFlat = get_allPages()\n    for urlpage in all_urlFlat:\n        response = requests.get(urlpage)\n        pagesHTML = BeautifulSoup(response.content, &quot;html.parser&quot;)\n        get_table_informations(url=urlpage, session=session, pageHTML=pagesHTML)\n        session.commit() # Commit the changes to the database\n    session.close() # Close the current session\n\nget_allTables()\n</code></pre>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "discord.py"
            ],
            "owner": {
                "account_id": 24091897,
                "reputation": 25,
                "user_id": 18323078,
                "user_type": "registered",
                "profile_image": "https://i.stack.imgur.com/l1vhd.png?s=256&g=1",
                "display_name": "Mersin Bakiu",
                "link": "https://stackoverflow.com/users/18323078/mersin-bakiu"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 20,
            "answer_count": 0,
            "score": 0,
            "last_activity_date": 1684859973,
            "creation_date": 1684859973,
            "question_id": 76316965,
            "share_link": "https://stackoverflow.com/q/76316965/14467927",
            "link": "https://stackoverflow.com/questions/76316965/discord-py-error-modal-py-ignoring-exception-in-modal-trainmodal-timeout-no",
            "title": "Discord.py error : [modal.py] Ignoring exception in modal &lt;trainModal timeout=None children=1&gt;: (modal.py:164)",
            "body": "<p>Appereantly this error has been bugging off to much lately for me.\nIt says it is ignoring an error but I get no intel on what the error is. And also it is almost impossible to debug it (for me at least).\nSo I check the code and everything seems correct to me. Here is the trainModal class where the error happens :</p>\n<pre class=\"lang-py prettyprint-override\"><code>        class trainModal(ui.Modal):\n            def __init__(self):\n                super().__init__(\n                    title=&quot;Training Dialog&quot;,\n                )\n                self.amount = ui.TextInput(label=&quot;Amount&quot;, style=discord.TextStyle.short,\n                                           placeholder=&quot;Integer&quot;, required=True, min_length=1)\n                self.add_item(self.amount)\n\n#I get input from a user through the modal ^^ \n\n\n            async def on_submit(self, interaction):\n                await interaction.response.defer()\n                user = interaction.user\n                val = int(self.amount.value)\n                troop_name = train_select.values[0]\n                troop_name = troop_name.lower()\n\n                troop = Troops[troop_name]\n                cost = troop[&quot;cost&quot;] * val\n                train_time = troop[&quot;time&quot;] * val\n\n#I calucalate after submiting the values what db manipulation I should do.\n\n                player = command_tree.db.get_player(user.id)\n                if player.gold &lt; cost:\n                    return await interaction.followup.send(\n                        f&quot;You don't have enough gold to train {val} {troop_name}.&quot;\n                    )\n\n                msg: discord.WebhookMessage = await interaction.followup.send(\n                    f&quot;Training {self.amount} {troop_name} in `{train_time}` seconds.&quot;)\n                await asyncio.sleep(train_time)\n\n#I wait for time through asyncio.sleep and after it is done, the error kicks in and the part below is never executed.\n\n\n\n                command_tree.db.update_player(user.id, +val, troop_name)\n                command_tree.db.update_player(user.id, -cost, &quot;gold&quot;)\n                await msg.edit(\n                    content=f&quot;Trained {self.amount} {troop_name} for {emote.GOLD} {cost}&quot;\n                )\n</code></pre>\n<p>I don't find any syntax or anything like that in this piece of code. In docs the kwargs are supposed to be just like how I have them in the modal class, but the error keeps persisting no matter the changes. I opened a discussion in discord.py as well and waiting for a response. Any help from you as well , would be appreciated.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "binance-api-client",
                "python-binance"
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 28407962,
                        "reputation": 552,
                        "user_id": 21731712,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/23800a9d4155212993a9761a35803b43?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "PRATHEESH PC",
                        "link": "https://stackoverflow.com/users/21731712/pratheesh-pc"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": true,
                    "score": 1,
                    "last_activity_date": 1684845552,
                    "last_edit_date": 1684845552,
                    "creation_date": 1684845185,
                    "answer_id": 76314805,
                    "question_id": 76314102,
                    "content_license": "CC BY-SA 4.0",
                    "title": "get_exchange_info() from Binance API",
                    "body": "<p>The issue is related to the <code>exch_info</code> parameter provided in the <code>execute_many</code>. As it is unable to convert the type list into MYSQL format.</p>\n<pre class=\"lang-py prettyprint-override\"><code>    params = [] \n    for row in exch_info:\n        params.append({\n            'symbol': row['symbol'], \n            'baseAsset': row['baseAsset'], \n            'quoteAsset': row['quoteAsset']\n    })\n\n</code></pre>\n<pre><code>mycursor.executemany(f&quot;INSERT INTO `param_asset_binance` (Ticker,Coin1,Coin2) VALUES ( %(symbol)s, %(baseAsset)s, %(quoteAsset)s) ON DUPLICATE KEY UPDATE Coin1 = VALUES(Coin1), Coin2 = VALUES(Coin2) &quot;, params)\n</code></pre>\n<p><strong>Reference</strong> :</p>\n<p><a href=\"https://stackoverflow.com/questions/18244565/how-can-i-use-executemany-to-insert-into-mysql-a-list-of-dictionaries-in-python\">How can I use executemany to insert into MySQL a list of dictionaries in Python</a></p>\n<p><a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlcursor-executemany.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlcursor-executemany.html</a></p>\n"
                }
            ],
            "owner": {
                "account_id": 14507105,
                "reputation": 65,
                "user_id": 13797447,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/af0c1a627ab5f41a8adf07e5c5f667e8?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Mat",
                "link": "https://stackoverflow.com/users/13797447/mat"
            },
            "comment_count": 0,
            "is_answered": true,
            "view_count": 33,
            "accepted_answer_id": 76314805,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1684845552,
            "creation_date": 1684840440,
            "question_id": 76314102,
            "share_link": "https://stackoverflow.com/q/76314102/14467927",
            "link": "https://stackoverflow.com/questions/76314102/get-exchange-info-from-binance-api",
            "title": "get_exchange_info() from Binance API",
            "body": "<p>I am new to Python (I mean really new &gt; 7 weeks in on my free time) , bear with me...</p>\n<p>I am trying to get exchange info from Binance for a project.</p>\n<p>I am using the python-binance package.I get the exchange info with:</p>\n<pre><code>   exch_info = client.get_exchange_info()\n</code></pre>\n<p>The result is a very complicated mix from which I want to extract 'baseAsset' and 'quoteAsset' and put it in a table I already have based on my field 'Ticker' ('symbol' in the response).</p>\n<p>see <a href=\"https://python-binance.readthedocs.io/en/latest/binance.html#binance.client.Client.get_exchange_info\" rel=\"nofollow noreferrer\">https://python-binance.readthedocs.io/en/latest/binance.html#binance.client.Client.get_exchange_info</a></p>\n<p>I extract the list of dictionnaries I want by adding ['symbols']:</p>\n<pre><code>   exch_info = client.get_exchange_info()['symbols']\n</code></pre>\n<p>I have tried (don't judge me) but I am stuck. I want to end up with a MySQL query that currently looks like:</p>\n<pre><code>   exch_info = client.get_exchange_info()['symbols']\n   mycursor.executemany(f&quot;INSERT INTO `param_asset_binance` (Ticker,Coin1,Coin2) VALUES ( %(symbol)s, %(baseAsset)s, %(quoteAsset)s) ON DUPLICATE KEY UPDATE Coin1 = VALUES(Coin1), Coin2 = VALUES(Coin2) &quot;, exch_info)\n    #mydb.commit()\n</code></pre>\n<p>My errors are:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;C:\\Users\\mathi\\anaconda3\\lib\\site-packages\\mysql\\connector\\conversion.py&quot;, line 179, in to_mysql\n    return getattr(self, &quot;_{0}_to_mysql&quot;.format(type_name))(value)\nAttributeError: 'MySQLConverter' object has no attribute '_list_to_mysql'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;C:\\Users\\xxxx\\anaconda3\\lib\\site-packages\\mysql\\connector\\cursor.py&quot;, line 395, in _process_params_dict\n    conv = to_mysql(conv)\n  File &quot;C:\\Users\\xxxx\\anaconda3\\lib\\site-packages\\mysql\\connector\\conversion.py&quot;, line 181, in to_mysql\n    raise TypeError(&quot;Python '{0}' cannot be converted to a &quot;\nTypeError: Python 'list' cannot be converted to a MySQL type\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File &quot;c:\\Users\\xxxx\\library_param.py&quot;, line 45, in &lt;module&gt;\n    update_binance_exch_info()\n  File &quot;c:\\Users\\xxxx\\library_param.py&quot;, line 42, in update_binance_exch_info\n    mycursor.executemany(f&quot;INSERT INTO `autobot_core`.`param_asset_binance` (Ticker,Coin1,Coin2) VALUES ( %(symbol)s, %(baseAsset)s, %(quoteAsset)s) ON DUPLICATE KEY UPDATE Coin1 = VALUES(Coin1), Coin2 = VALUES(Coin2) &quot;, exch_info)\n  File &quot;C:\\Users\\xxxx\\anaconda3\\lib\\site-packages\\mysql\\connector\\cursor.py&quot;, line 652, in executemany\n    stmt = self._batch_insert(operation, seq_params)\n  File &quot;C:\\Users\\xxxx\\anaconda3\\lib\\site-packages\\mysql\\connector\\cursor.py&quot;, line 591, in _batch_insert\n    tmp, self._process_params_dict(params))\n  File &quot;C:\\Users\\xxxx\\anaconda3\\lib\\site-packages\\mysql\\connector\\cursor.py&quot;, line 403, in _process_params_dict\n    raise errors.ProgrammingError(\nmysql.connector.errors.ProgrammingError: Failed processing pyformat-parameters; Python 'list' cannot be converted to a MySQL type\n</code></pre>\n<p>what am I doing wrong?</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "pyspark"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1613587,
                        "reputation": 731318,
                        "user_id": 1491895,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=256&d=identicon&r=PG",
                        "display_name": "Barmar",
                        "link": "https://stackoverflow.com/users/1491895/barmar"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684775287,
                    "post_id": 76308481,
                    "comment_id": 134562875,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308481/error-while-updating-table-in-mysql-mysql-connector-errors-databaseerror-1412#comment134562875_76308481",
                    "body": "Some other process has performed <code>ALTER TABLE</code> on one of the tables in your query. A transaction can&#39;t handle that kind of change."
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 16528397,
                                "reputation": 211,
                                "user_id": 11942410,
                                "user_type": "registered",
                                "profile_image": "https://lh5.googleusercontent.com/-gaLjILGB8OU/AAAAAAAAAAI/AAAAAAAABJI/HRuMCc5NebE/photo.jpg?sz=256",
                                "display_name": "vish",
                                "link": "https://stackoverflow.com/users/11942410/vish"
                            },
                            "edited": false,
                            "score": 0,
                            "post_type": "answer",
                            "creation_date": 1684781240,
                            "post_id": 76308556,
                            "comment_id": 134564100,
                            "content_license": "CC BY-SA 4.0",
                            "link": "https://stackoverflow.com/questions/76308481/error-while-updating-table-in-mysql-mysql-connector-errors-databaseerror-1412/76308556#comment134564100_76308556",
                            "body": "already generating random table name. please check updated question."
                        }
                    ],
                    "owner": {
                        "account_id": 71085,
                        "reputation": 102153,
                        "user_id": 205608,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://www.gravatar.com/avatar/9f2486a2b9ce41bd248d11d4a2b0ce64?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "O. Jones",
                        "link": "https://stackoverflow.com/users/205608/o-jones"
                    },
                    "comment_count": 1,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1684775876,
                    "creation_date": 1684775876,
                    "answer_id": 76308556,
                    "question_id": 76308481,
                    "content_license": "CC BY-SA 4.0",
                    "title": "error while updating table in MySQL : mysql.connector.errors.DatabaseError: 1412 (HY000): Table definition has changed, please retry transaction",
                    "body": "<p>It looks to my like you're running more than one instance of this program you showed us at once. And, I guess the second instance starts out by creating a table that <em>you think is temporary</em>, but is actually a <em>permanent table with the same exact name as the first instance's</em>. The second program does a <code>CREATE TABLE</code> while the first one is using the table, and confusion ensues, and the DBMS says &quot;I give up! I don't know what you want!&quot;</p>\n<p>How to fix this?</p>\n<ol>\n<li><p>Generate a random or otherwise unique name for the temporary table each time you run the program, or ...</p>\n</li>\n<li><p>Make sure your ORM uses <code>CREATE TEMPORARY TABLE tablename</code> when it creates that temporary table. Temporary table names are scoped to the connection as well as to the schema, so you can use the same name from different instances.</p>\n</li>\n</ol>\n"
                }
            ],
            "owner": {
                "account_id": 16528397,
                "reputation": 211,
                "user_id": 11942410,
                "user_type": "registered",
                "profile_image": "https://lh5.googleusercontent.com/-gaLjILGB8OU/AAAAAAAAAAI/AAAAAAAABJI/HRuMCc5NebE/photo.jpg?sz=256",
                "display_name": "vish",
                "link": "https://stackoverflow.com/users/11942410/vish"
            },
            "comment_count": 1,
            "is_answered": false,
            "view_count": 50,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1684781323,
            "creation_date": 1684775185,
            "last_edit_date": 1684781323,
            "question_id": 76308481,
            "share_link": "https://stackoverflow.com/q/76308481/14467927",
            "link": "https://stackoverflow.com/questions/76308481/error-while-updating-table-in-mysql-mysql-connector-errors-databaseerror-1412",
            "title": "error while updating table in MySQL : mysql.connector.errors.DatabaseError: 1412 (HY000): Table definition has changed, please retry transaction",
            "body": "<p>I am working on one personal project.\nThere is multiple similar questions on this forum however everyone is case specific.\nIn my case i am creating and loading temp table, i am joining that table with existing table in DB and updating the same table based on temp table results. while executing <code>db.execute_insert_update()</code> it throws an exception : <code>mysql.connector.errors.DatabaseError: 1412 (HY000): Table definition has changed, please retry transaction</code></p>\n<pre><code> &gt;  def _create_and_load_table(self, dataframe: DataFrame) -&gt; str: #first_function\n    self._log_entry()\n    temp_table_name = self._generate_table_name()\n    table_schema = &quot;partner_staging&quot;\n    table_with_schema = f&quot;{table_schema}.{temp_table_name}&quot;\n\n    self.df_mgr.jdbc_write(dataframe=dataframe, dbtable=table_with_schema, \n   check_count_before_write=True)\n    self._log_exit()\n    return temp_table_name\n\ndef reconcile_partner_payments(self, dataframe: DataFrame) -&gt; NoReturn: #second function\n    self.logger.info(&quot;Start reconcile_partner_payments&quot;)\n    self.logger.info(f&quot;df_col:{dataframe.columns}&quot;)\n    partner_payment_ids = dataframe.select(&quot;partner_payment_id&quot;, \n    &quot;effective_payroll_date&quot;).distinct()\n    self.logger.info(f&quot;head:{partner_payment_ids.head(3)}&quot;)\n    self.logger.info(f&quot;count:{partner_payment_ids.count()}&quot;)\n    self.logger.info(f&quot;c:{partner_payment_ids.columns}&quot;)\n    temp_table_name = self._create_and_load_table(partner_payment_ids)\n    table_schema = &quot;partner_staging&quot;\n    update_query = &quot;&quot;&quot;UPDATE abc.partner_payment as pp\n                      JOIN partner_staging.{temp_table_name} as t on pp.id = \n           t.partner_payment_id\n                      SET pp.reconciled = 1, pp.modify_ts = NOW() , pp.modify_user = 'ok \n                    successfull'&quot;&quot;&quot;\n  \n\n    self.db.execute_insert_update(query_sql=update_query)\n    self.db.drop_table(table_schema, temp_table_name)\n    self.logger.info(&quot;End reconcile_partner_payments&quot;)\n\n\n    def execute_insert_update(self, query_sql, args=()) -&gt; None: #method being used in second_function\n    \n    try:\n        cursor = self.get_cursor()\n        self.start_transaction()\n        cursor.execute(query_sql, args)\n        self._connection.handle_unread_result()\n        self.commit()\n    except Error as e:\n        stack = traceback.format_exc()\n        self.rollback()\n        print(stack)\n        logger_func = Cache()[keys.LOGGER].info if keys.LOGGER in Cache() else print\n        logger_func(f&quot;stack_: {stack}&quot;)\n        raise e\n    finally:\n        self.close_cursor()\n\n &gt;  def _generate_table_name(self):#generate unique name\n    self.logger.info(&quot;Start _generate_table_name&quot;)\n    rand_str = random_str(length=4)\n    self.logger.info(&quot;End _generate_table_name&quot;)\n    return f&quot;temp_{self.partner_name}_{self.company_name}_{self.payroll_name}_{rand_str}&quot;\n</code></pre>\n<p>i tried defining the schema for the temp table however it is the same error.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 1613587,
                        "reputation": 731318,
                        "user_id": 1491895,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=256&d=identicon&r=PG",
                        "display_name": "Barmar",
                        "link": "https://stackoverflow.com/users/1491895/barmar"
                    },
                    "edited": false,
                    "score": 2,
                    "post_type": "question",
                    "creation_date": 1684773638,
                    "post_id": 76308271,
                    "comment_id": 134562542,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562542_76308271",
                    "body": "Why isn&#39;t there a unique index on this column if it has to stay unique?"
                },
                {
                    "owner": {
                        "account_id": 1613587,
                        "reputation": 731318,
                        "user_id": 1491895,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=256&d=identicon&r=PG",
                        "display_name": "Barmar",
                        "link": "https://stackoverflow.com/users/1491895/barmar"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684773720,
                    "post_id": 76308271,
                    "comment_id": 134562557,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562557_76308271",
                    "body": "If you can&#39;t use <code>ON DUPLICATE KEY</code> then you have to use multiple queries."
                },
                {
                    "owner": {
                        "account_id": 2674049,
                        "reputation": 93337,
                        "user_id": 2310830,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=256&g=1",
                        "display_name": "RiggsFolly",
                        "link": "https://stackoverflow.com/users/2310830/riggsfolly"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684773986,
                    "post_id": 76308271,
                    "comment_id": 134562617,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562617_76308271",
                    "body": "Its always best to at least give us a bit of a clue by showing us at least an example of the query. It stops us having to guess from a poorly described question what you actually mean."
                },
                {
                    "owner": {
                        "account_id": 2674049,
                        "reputation": 93337,
                        "user_id": 2310830,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=256&g=1",
                        "display_name": "RiggsFolly",
                        "link": "https://stackoverflow.com/users/2310830/riggsfolly"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684774279,
                    "post_id": 76308271,
                    "comment_id": 134562666,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562666_76308271",
                    "body": "Seems like a redesign of the database is what is really required here"
                },
                {
                    "owner": {
                        "account_id": 10929,
                        "reputation": 534468,
                        "user_id": 20860,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=256&g=1",
                        "display_name": "Bill Karwin",
                        "link": "https://stackoverflow.com/users/20860/bill-karwin"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684775151,
                    "post_id": 76308271,
                    "comment_id": 134562843,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562843_76308271",
                    "body": "Searching past answers, I found this same question has been asked many times over many years. Example from 2010: <a href=\"https://stackoverflow.com/questions/3180913/mysql-update-on-duplicate-key-without-a-unique-column\" title=\"mysql update on duplicate key without a unique column\">stackoverflow.com/questions/3180913/&hellip;</a> Most of the answers are: <i>&quot;add a unique constraint on the column you want to be unique, then use <code>INSERT ... ON DUPLICATE KEY UPDATE</code>.&quot;</i>"
                },
                {
                    "owner": {
                        "account_id": 10929,
                        "reputation": 534468,
                        "user_id": 20860,
                        "user_type": "registered",
                        "accept_rate": 92,
                        "profile_image": "https://i.stack.imgur.com/iavmP.jpg?s=256&g=1",
                        "display_name": "Bill Karwin",
                        "link": "https://stackoverflow.com/users/20860/bill-karwin"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684775255,
                    "post_id": 76308271,
                    "comment_id": 134562864,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134562864_76308271",
                    "body": "The alternative is to run two queries, one to check if the row exists, then conditionally execute INSERT or UPDATE. Example from 2015: <a href=\"https://stackoverflow.com/questions/33495194/mysql-insert-on-duplicate-update-for-non-primary-key\" title=\"mysql insert on duplicate update for non primary key\">stackoverflow.com/questions/33495194/&hellip;</a>"
                },
                {
                    "owner": {
                        "account_id": 9744358,
                        "reputation": 38610,
                        "user_id": 10138734,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/sf6Zj.jpg?s=256&g=1",
                        "display_name": "Akina",
                        "link": "https://stackoverflow.com/users/10138734/akina"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684779043,
                    "post_id": 76308271,
                    "comment_id": 134563634,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134563634_76308271",
                    "body": "<i>The issue is I want to check on another field that is not the key, but yet has so stay unique.</i> If the column must be unique then you must create according unique index. This is the only way to check the data consistency. <i>I do NOT want to use the REPLACE because of the auto increment field (REPLACE deletes and inserts)</i> REPLACE needs in unique constraint too."
                },
                {
                    "owner": {
                        "account_id": 14507105,
                        "reputation": 65,
                        "user_id": 13797447,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/af0c1a627ab5f41a8adf07e5c5f667e8?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Mat",
                        "link": "https://stackoverflow.com/users/13797447/mat"
                    },
                    "reply_to_user": {
                        "account_id": 2674049,
                        "reputation": 93337,
                        "user_id": 2310830,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=256&g=1",
                        "display_name": "RiggsFolly",
                        "link": "https://stackoverflow.com/users/2310830/riggsfolly"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684783683,
                    "post_id": 76308271,
                    "comment_id": 134564588,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134564588_76308271",
                    "body": "@RiggsFolly, I thought my question was pretty explanatory, and the accompagning query as well. I am only new so lacking some subtilities maybe. I don&#39;t think it deserved a -1 though..."
                },
                {
                    "owner": {
                        "account_id": 14507105,
                        "reputation": 65,
                        "user_id": 13797447,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/af0c1a627ab5f41a8adf07e5c5f667e8?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Mat",
                        "link": "https://stackoverflow.com/users/13797447/mat"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684783698,
                    "post_id": 76308271,
                    "comment_id": 134564592,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field#comment134564592_76308271",
                    "body": "I added a index on Ticke ans it does work. Thanks all"
                }
            ],
            "answers": [
                {
                    "comments": [
                        {
                            "owner": {
                                "account_id": 14507105,
                                "reputation": 65,
                                "user_id": 13797447,
                                "user_type": "registered",
                                "profile_image": "https://www.gravatar.com/avatar/af0c1a627ab5f41a8adf07e5c5f667e8?s=256&d=identicon&r=PG&f=y&so-version=2",
                                "display_name": "Mat",
                                "link": "https://stackoverflow.com/users/13797447/mat"
                            },
                            "edited": false,
                            "score": 0,
                            "post_type": "answer",
                            "creation_date": 1684783709,
                            "post_id": 76308417,
                            "comment_id": 134564594,
                            "content_license": "CC BY-SA 4.0",
                            "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field/76308417#comment134564594_76308417",
                            "body": "I added a index on Ticke ans it does work. Thanks all"
                        }
                    ],
                    "owner": {
                        "account_id": 3389529,
                        "reputation": 776,
                        "user_id": 2844703,
                        "user_type": "registered",
                        "accept_rate": 93,
                        "profile_image": "https://www.gravatar.com/avatar/60dbae56ea5e380f5836a717852a8650?s=256&d=identicon&r=PG",
                        "display_name": "James",
                        "link": "https://stackoverflow.com/users/2844703/james"
                    },
                    "comment_count": 1,
                    "accepted": false,
                    "is_accepted": true,
                    "score": 1,
                    "last_activity_date": 1684774653,
                    "creation_date": 1684774653,
                    "answer_id": 76308417,
                    "question_id": 76308271,
                    "content_license": "CC BY-SA 4.0",
                    "title": "Insert into a MySQL table or update if exists on a non KEY field",
                    "body": "<p>You can use the INSERT ... ON DUPLICATE KEY UPDATE statement, but as mentioned in the comments, you need to have a unique index on the 'Ticker' column. For example:</p>\n<pre><code>forex = [{'symbol': 'EURUSD', 'price': '1.06763000'}, {'symbol': 'GBPEUR', 'price': '0.90339600'}, {'symbol': 'EURJPYC', 'price': '0.000011200'}]\n\nquery = &quot;INSERT INTO `param_forex` (Ticker, Price) VALUES (%(symbol)s, %(price)s) ON DUPLICATE KEY UPDATE Price = VALUES(Price)&quot;\n\nmycursor.executemany(query, forex)\nmydb.commit()\n</code></pre>\n<p>To make this work, just alter the table to include a unique key:</p>\n<pre><code>ALTER TABLE `param_forex` ADD UNIQUE INDEX `idx_Ticker` (`Ticker`);\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 14507105,
                "reputation": 65,
                "user_id": 13797447,
                "user_type": "registered",
                "profile_image": "https://www.gravatar.com/avatar/af0c1a627ab5f41a8adf07e5c5f667e8?s=256&d=identicon&r=PG&f=y&so-version=2",
                "display_name": "Mat",
                "link": "https://stackoverflow.com/users/13797447/mat"
            },
            "comment_count": 9,
            "is_answered": true,
            "view_count": 49,
            "accepted_answer_id": 76308417,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1684774653,
            "creation_date": 1684773385,
            "last_edit_date": 1684774169,
            "question_id": 76308271,
            "share_link": "https://stackoverflow.com/q/76308271/14467927",
            "link": "https://stackoverflow.com/questions/76308271/insert-into-a-mysql-table-or-update-if-exists-on-a-non-key-field",
            "title": "Insert into a MySQL table or update if exists on a non KEY field",
            "body": "<p>I want to  INSERT INTO MySQL or UPDATE MySQL if exist without having to run 2 different queries.</p>\n<p>I have checked\n<a href=\"https://stackoverflow.com/questions/696190/create-if-an-entry-if-it-doesnt-exist-otherwise-update\">Create if an entry if it doesn&#39;t exist, otherwise update?</a></p>\n<pre><code>INSERT INTO table (a) VALUES (0)  ON DUPLICATE KEY UPDATE\n</code></pre>\n<p>but it only works if you check doubles on the key.\nThe issue is I want to check on another field that is not the key, but yet has so stay unique.\nI want to ADD or UPDATE on checking the 'symbol' in my dictionary:</p>\n<p>The data I get is (example)</p>\n<pre><code>forex = [{'symbol': 'EURUSD', 'price': '1.06763000'}, {'symbol': 'GBPEUR', 'price': '0.90339600'}, {'symbol': 'EURJPYC', 'price': '0.000011200'}]\n</code></pre>\n<p>The INSERT INTO I want to adapt is:</p>\n<pre><code>mycursor.executemany(f&quot;INSERT INTO `param_forex` (Ticker,Price) \n                    VALUES ( %(symbol)s, %(price)s)&quot;, forex)\nmydb.commit()\n</code></pre>\n<p>I do NOT want to use the REPLACE because of the auto increment field (REPLACE deletes and inserts)\nThe column I am checking for duplicates is <code>Ticker</code> in the table and symbol in the dictionary.</p>\n<p>I am stuck. Is there a solution?</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "database-connection",
                "pymysql"
            ],
            "comments": [
                {
                    "owner": {
                        "account_id": 11064698,
                        "reputation": 711,
                        "user_id": 9659620,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/f3e4eef6e25a850993af24243cfff530?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Klops",
                        "link": "https://stackoverflow.com/users/9659620/klops"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684761210,
                    "post_id": 76306470,
                    "comment_id": 134559602,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76306470/can-only-concatenate-str-not-tuple-to-str-on-mysql-connector-connect-in#comment134559602_76306470",
                    "body": "do i understand you correct that the error happens when you try to connect? not when executing a query? can you print the connection arguments right before connecting and give us the output?"
                },
                {
                    "owner": {
                        "account_id": 23535348,
                        "reputation": 17600,
                        "user_id": 17580381,
                        "user_type": "registered",
                        "profile_image": "https://i.stack.imgur.com/CTwuL.jpg?s=256&g=1",
                        "display_name": "DarkKnight",
                        "link": "https://stackoverflow.com/users/17580381/darkknight"
                    },
                    "edited": false,
                    "score": 1,
                    "post_type": "question",
                    "creation_date": 1684761312,
                    "post_id": 76306470,
                    "comment_id": 134559628,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76306470/can-only-concatenate-str-not-tuple-to-str-on-mysql-connector-connect-in#comment134559628_76306470",
                    "body": "Let&#39;s see the full stack trace and also how you&#39;re constructing your Database class"
                },
                {
                    "owner": {
                        "account_id": 3884753,
                        "reputation": 10403,
                        "user_id": 3216427,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/5250f90e782e8210ace9b580a150781f?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "joanis",
                        "link": "https://stackoverflow.com/users/3216427/joanis"
                    },
                    "edited": false,
                    "score": 0,
                    "post_type": "question",
                    "creation_date": 1684791859,
                    "post_id": 76306470,
                    "comment_id": 134565939,
                    "content_license": "CC BY-SA 4.0",
                    "link": "https://stackoverflow.com/questions/76306470/can-only-concatenate-str-not-tuple-to-str-on-mysql-connector-connect-in#comment134565939_76306470",
                    "body": "There is no occurrence of <code>strip</code> is your code, please share the full stack trace so that we can see what code is actually producing that error."
                }
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 4165495,
                        "reputation": 516,
                        "user_id": 3414537,
                        "user_type": "registered",
                        "profile_image": "https://www.gravatar.com/avatar/95773c00a56527774ad1a0385e61a246?s=256&d=identicon&r=PG&f=y&so-version=2",
                        "display_name": "Er...",
                        "link": "https://stackoverflow.com/users/3414537/er"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 1,
                    "last_activity_date": 1684761217,
                    "creation_date": 1684761217,
                    "answer_id": 76306574,
                    "question_id": 76306470,
                    "content_license": "CC BY-SA 4.0",
                    "title": "(&#39;can only concatenate str (not &quot;tuple&quot;) to str&#39;,) on mysql.connector.connect in Python",
                    "body": "<p><code>e.args</code> is a tuple, i.e</p>\n<pre><code>&gt;&gt;&gt; type(ValueError().args)\n&lt;class 'tuple'&gt;\n</code></pre>\n<p>So, when trying to concatenate a string with a tuple, i.e <code>logging.info(&quot;Database Error: &quot; + e.args)</code> it crashes:</p>\n<pre><code>&gt;&gt;&gt; &quot;&quot; + ()\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nTypeError: can only concatenate str (not &quot;tuple&quot;) to str\n</code></pre>\n<p>You could join on the <code>e.args</code> to concatenate them without an error being raised:</p>\n<pre><code>logging.info(&quot;Database Error: &quot; + &quot;&quot;.join(e.args))\n</code></pre>\n<p>or, event better, use <a href=\"https://docs.python.org/3/tutorial/inputoutput.html#formatted-string-literals\" rel=\"nofollow noreferrer\">f-strings</a></p>\n<pre><code>logging.info(f&quot;Database Error: {e.args}&quot;)\n</code></pre>\n"
                }
            ],
            "owner": {
                "account_id": 20270954,
                "reputation": 1,
                "user_id": 14867140,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhgpzbJb-FkDRksi6IXxDfhcKWxHKZx1llOdXdpuSM=k-s256",
                "display_name": "Douglas Chiodi",
                "link": "https://stackoverflow.com/users/14867140/douglas-chiodi"
            },
            "comment_count": 3,
            "is_answered": true,
            "view_count": 34,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1684791781,
            "creation_date": 1684760432,
            "last_edit_date": 1684791781,
            "question_id": 76306470,
            "share_link": "https://stackoverflow.com/q/76306470/14467927",
            "link": "https://stackoverflow.com/questions/76306470/can-only-concatenate-str-not-tuple-to-str-on-mysql-connector-connect-in",
            "title": "(&#39;can only concatenate str (not &quot;tuple&quot;) to str&#39;,) on mysql.connector.connect in Python",
            "body": "<p>I have a problem in Python. The system says <code>(&quot;'tuple' object has no attribute 'strip'&quot;,)</code> above the function <code>cnx = mysql.connector.connect(host=self.host, database=self.database , user= self.username , password=self.password )</code>, as if it were recognizing the comma as a concatenation. I spent hours and I can't solve it.</p>\n<pre><code>class Database:\n    def __init__(\n        self,\n        host=&quot;localhost&quot;,\n        database=&quot;bayer&quot;,\n        username=&quot;root&quot;,\n        password=&quot;root&quot;,\n        port=&quot;3306&quot;,\n    ) -&gt; None:\n        self.host = str(host)\n        self.database = str(database)\n        self.username = str(username)\n        self.password = str(password)\n        self.port =str(port)\n        self.connection = None\n    \n    \n    def connectDatabase(self):\n        try:\n            logging.basicConfig(level=logging.INFO)\n            \n            if self.connection is not None:\n                logging.info(&quot;return active connection for you&quot;)\n                return self.connection\n                       \n            self.connection =  mysql.connector.connect(host=self.host, database=self.database , user=self.username , password=self.password )\n            \n            \n            logging.info(&quot;CON02&quot;)\n            \n            if self.connection.is_connected():\n                logging.info(&quot;You're connected to database: &quot; + self.database)\n                return self.connection\n            else:\n                logging.error(\n                    &quot;Error in connected to database: &quot; +\n                    self.database)\n            logging.info(&quot;CON03&quot;)\n        except Error as e:\n            logging.info(&quot;Database Error: &quot; + e.args)\n            #raise (e)\n\n    def query(self, connection, sql, *args):\n        cursor = connection.cursor()\n        try:\n            cursor.execute(sql, args)\n            return cursor\n        except Error as e:\n            logging.error(&quot;Database Error: &quot; + e.args)\n            raise (e)\n</code></pre>\n<p>I just need to get past this line with the connection made.</p>\n"
        },
        {
            "tags": [
                "python",
                "mysql",
                "json"
            ],
            "answers": [
                {
                    "owner": {
                        "account_id": 252240,
                        "reputation": 13445,
                        "user_id": 530160,
                        "user_type": "registered",
                        "accept_rate": 69,
                        "profile_image": "https://i.stack.imgur.com/xRnFS.jpg?s=256&g=1",
                        "display_name": "Nick ODell",
                        "link": "https://stackoverflow.com/users/530160/nick-odell"
                    },
                    "comment_count": 0,
                    "accepted": false,
                    "is_accepted": false,
                    "score": 0,
                    "last_activity_date": 1684731848,
                    "creation_date": 1684731848,
                    "answer_id": 76303161,
                    "question_id": 76302854,
                    "content_license": "CC BY-SA 4.0",
                    "title": "I have some problems with mysql data loading",
                    "body": "<pre class=\"lang-py prettyprint-override\"><code>price = result[close]\n</code></pre>\n<p>This code expects you to have a variable called <code>close</code>. It takes the value in that variable, and looks up that value in the <code>result</code> tuple. Since you have no <code>close</code> variable, this is an error.</p>\n<p>I'd suggest changing it to this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>price = result[0]\n</code></pre>\n<p>On the line after that, you have the following:</p>\n<pre class=\"lang-py prettyprint-override\"><code>min_price = result[low]\n</code></pre>\n<p>I don't see how to fix this line: your SQL query is not returning a low value. You either need a different query or need to find a different way to get this information.</p>\n"
                }
            ],
            "owner": {
                "account_id": 28650843,
                "reputation": 11,
                "user_id": 21937839,
                "user_type": "registered",
                "profile_image": "https://lh3.googleusercontent.com/a/AGNmyxYCwabE4pxN6nnwF8eVZWvpAlc0JaLn82X50K3FBg=k-s256",
                "display_name": "Istv&#225;n G&#225;bor Dud&#225;s",
                "link": "https://stackoverflow.com/users/21937839/istv%c3%a1n-g%c3%a1bor-dud%c3%a1s"
            },
            "comment_count": 0,
            "is_answered": false,
            "view_count": 45,
            "answer_count": 1,
            "score": 0,
            "last_activity_date": 1684731848,
            "creation_date": 1684725642,
            "last_edit_date": 1684731516,
            "question_id": 76302854,
            "share_link": "https://stackoverflow.com/q/76302854/14467927",
            "link": "https://stackoverflow.com/questions/76302854/i-have-some-problems-with-mysql-data-loading",
            "title": "I have some problems with mysql data loading",
            "body": "<p>I'm getting these errors, and i don't know how to fix.</p>\n<p>The code is a Chart, its using the tradingview lightweight charts. Its basically generating itself some\nprice and some other datas and making a &quot;stock&quot; chart.</p>\n<p>I'm saving the data to a mysql server, but when i wanna to load the data I'm getting kinda stuck. Can somebody help?</p>\n<p>Error:</p>\n<pre><code>connection handler failed\nTraceback (most recent call last):\n  File &quot;C:\\Users\\dudas\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\websockets\\legacy\\server.py&quot;, line 236, in handler\n    await self.ws_handler(self)\n  File &quot;C:\\Users\\dudas\\AppData\\Local\\Programs\\Python\\Python39\\lib\\site-packages\\websockets\\legacy\\server.py&quot;, line 1175, in _ws_handler\n    return await cast(\n  File &quot;C:\\xampp\\htdocs\\chart\\price.py&quot;, line 32, in server\n    price = result[close]\nNameError: name 'close' is not defined\n</code></pre>\n<p>Code:</p>\n<pre><code>import asyncio\nimport websockets\nimport random\nfrom datetime import datetime, timedelta\nimport json\nimport mysql.connector\n\n# Establishing a database connection\ncnx = mysql.connector.connect(user='root', password='',\n                              host='localhost',\n                              database='tradewisedb')\ncursor = cnx.cursor()\n\n# Creating the data table if it doesn't exist\ncursor.execute(&quot;&quot;&quot;\nCREATE TABLE IF NOT EXISTS prices (\n    time BIGINT,\n    open FLOAT,\n    high FLOAT,\n    low FLOAT,\n    close FLOAT\n)\n&quot;&quot;&quot;)\n\n# Simulation parameters\nprice = 100.0\ntrend = 1\nvolatility = 0.02\nmin_price = 50.0\nmax_price = 150.0\nfluctuation_range = 0.02\npost_jump_fluctuation = 0.005\ninterval = timedelta(minutes=1)\n\nasync def server(websocket, path):\n    cursor.execute(&quot;SELECT close FROM prices ORDER BY time DESC LIMIT 1&quot;)\n    result = cursor.fetchone()\n\n    if result is not None:\n        price = result[close]\n        min_price = result[low]\n        max_price = result[high]\n\n    else:\n        price = 100.0\n        trend = 1\n        volatility = 0.02\n        min_price = 50.0\n        max_price = 150.0\n        fluctuation_range = 0.02\n        post_jump_fluctuation = 0.005\n        interval = timedelta(minutes=1)     # Fetch previous data from the database\n\n    cursor.execute(&quot;SELECT * FROM prices ORDER BY time ASC LIMIT 1000&quot;)\n\n    rows = cursor.fetchall()\n\n    previous_data = [{\n        'time': row[0],\n        'open': row[1],\n        'high': row[2],\n        'low': row[3],\n        'close': row[4]\n    } for row in rows]\n\n    await websocket.send(json.dumps(previous_data))\n\n    while True:\n        start_time = datetime.now()\n        open_price = price\n        high_price = price\n        low_price = price\n\n        start_time_timestamp = int(start_time.timestamp() * 1000)  # UNIX timestamp in milliseconds\n\n        while datetime.now() - start_time &lt; interval:\n            # Random 'news' events\n            if random.random() &lt; 0.01:\n                trend *= -1\n                volatility = fluctuation_range\n\n            # After a big jump, create some sideways movement\n            else:\n                volatility = post_jump_fluctuation\n\n            # Random 'market' fluctuations\n            price *= 1 + trend * volatility * random.uniform(-1, 1)\n\n            # Ensure price stays within min and max limits\n            if price &gt; max_price:\n                price = max_price\n                trend = -1\n            elif price &lt; min_price:\n                price = min_price\n                trend = 1\n\n            high_price = max(high_price, price)\n            low_price = min(low_price, price)\n\n            temp_data = {\n                &quot;time&quot;: start_time_timestamp,\n                &quot;open&quot;: open_price,\n                &quot;high&quot;: high_price,\n                &quot;low&quot;: low_price,\n                &quot;close&quot;: price\n            }\n\n            await websocket.send(json.dumps(temp_data))\n\n            await asyncio.sleep(1)\n\n        close_price = price\n\n        data = {\n            &quot;time&quot;: start_time_timestamp,\n            &quot;open&quot;: open_price,\n            &quot;high&quot;: high_price,\n            &quot;low&quot;: low_price,\n            &quot;close&quot;: close_price\n        }\n\n        await websocket.send(json.dumps(data))\n\n        # Inserting data into the database\n        add_price = (&quot;INSERT INTO prices &quot;\n                   &quot;(time, open, high, low, close) &quot;\n                   &quot;VALUES (%s, %s, %s, %s, %s)&quot;)\n        cursor.execute(add_price, (data['time'], data['open'], data['high'], data['low'], data['close']))\n        cnx.commit()\n\nstart_server = websockets.serve(server, 'localhost', 8000)\n\nasyncio.get_event_loop().run_until_complete(start_server)\nasyncio.get_event_loop().run_forever()\n\n# Closing the database connection\ncursor.close()\ncnx.close()\n</code></pre>\n<p>Like almost everything what i was know to try.</p>\n"
        }
    ],
    "has_more": true,
    "quota_max": 10000,
    "quota_remaining": 9998
}